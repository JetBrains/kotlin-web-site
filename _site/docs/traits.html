<!DOCTYPE html>
    <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png" />
<link rel="apple-touch-icon" sizes="72x72" href="/assets/images/apple-touch-icon-72x72.png" />
<link rel="apple-touch-icon" sizes="114x114" href="/assets/images/apple-touch-icon-114x114.png" />
<link rel="apple-touch-icon" sizes="144x144" href="/assets/images/apple-touch-icon-144x144.png" />
<link rel="stylesheet" href="/css/styles.css">
<!--
<link rel="stylesheet" href="/css/syntax.css">
<link rel="stylesheet" href="/css/keywords.css">
-->
<title>Traits</title>

</head>
<body>

<div class="global-layout">
    <header class="global-header">
    <div class="g-layout">
        <a class="global-header-logo" href="">Project Kotlin</a>

        <form class="global-header-search">
            <div class="search-input-wrap">
                <input type="text" class="search-input">
            </div>
            <input type="submit" class="search-submit-button">
        </form>

        <nav class="global-header-nav">
            
                
                    <a href="/"
                       class="nav-item">
                        Home
                    </a>
                
            
                
                    <a href="/try/"
                       class="nav-item">
                        Try
                    </a>
                
            
                
                    <a href="/download/"
                       class="nav-item">
                        Download
                    </a>
                
            
                
                    <span class="nav-item is_active">
                        Learn
                    </span>
                
            
                
                    <a href="/contribute/"
                       class="nav-item">
                        Contribute
                    </a>
                
            
        </nav>

    </div>
</header>
    
    

    <div class="global-current-section">
        <div class="g-layout">
            <div class="current-section-title">Learn Kotlin</div>

            
                <ul class="current-section-nav">
                    
                        
                            <li class="nav-item">
                                <a href="/learn/" class="nav-item-text">Getting Started</a>
                            </li>

                        
                    
                        
                            <li class="nav-item is_active">
                                <a href="/docs/" class="nav-item-text">Documentation</a>
                            </li>

                        
                    
                        
                            <li class="nav-item">
                                <a href="/learn/faq/" class="nav-item-text">FAQ</a>
                            </li>

                        
                    
                        
                            <li class="nav-item">
                                <a href="/tutorials/" class="nav-item-text">Tutorials</a>
                            </li>

                        
                    
                        
                            <li class="nav-item">
                                <a href="/learn/videos/" class="nav-item-text">Videos</a>
                            </li>

                        
                    
                        
                            <li class="nav-item">
                                <a href="/learn/events/" class="nav-item-text">Events</a>
                            </li>

                        
                    
                        
                            <li class="nav-item">
                                <a href="/learn/external/" class="nav-item-text">External Resources</a>
                            </li>

                        
                    
                </ul>
            

        </div>
    </div>



    <div class="global-content">
        <h1 class="page-title">Traits</h1>

        <h2 id="traits">Traits</h2>

<p>Traits are essentially interfaces with optional method implementations. What makes them different from abstract classes is that traits
cannot store state. They can have properties but these need to be abstract.</p>

<p>A trait is defined using the keyword <em class="keyword">Trait</em></p>

<div class="highlight"><pre><code class="kotlin"><span class="n">trait</span> <span class="n">MyTrait</span> <span class="p">{</span>
    <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span>
    <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// optional body</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="implementing-traits">Implementing Traits</h3>

<p>A class or object can implement one or more traits</p>

<div class="highlight"><pre><code class="kotlin"><span class="k">class</span> <span class="nc">Child</span><span class="p">:</span> <span class="n">MyTrait</span> <span class="p">{</span>

   <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span>
      <span class="c1">// body</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="properties-in-traits">Properties in Traits</h3>

<p>Traits allow properties as long as these are stateless, that is because traits do not allow state.</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">trait</span> <span class="n">MyTrait</span> <span class="p">{</span>
    <span class="k">val</span> <span class="n">property</span><span class="p">:</span> <span class="n">Int</span> <span class="c1">// abstract</span>

    <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="n">property</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nc">Child</span><span class="p">:</span> <span class="n">MyTrait</span> <span class="p">{</span>
    <span class="k">override</span> <span class="k">val</span> <span class="n">property</span><span class="p">:</span> <span class="n">Int</span> <span class="p">=</span> <span class="m">29</span>
<span class="p">}</span>
</code></pre></div>

<h3 id="accessing-state-in-trait">Accessing state in trait</h3>

<p>While traits cannot have state, you can access state</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">open</span> <span class="k">class</span> <span class="nf">A</span><span class="p">(</span><span class="n">x</span> <span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">val</span> <span class="n">y</span> <span class="p">=</span> <span class="n">x</span> <span class="p">*</span> <span class="m">2</span>
<span class="p">}</span>

<span class="n">trait</span> <span class="n">B</span> <span class="p">:</span> <span class="n">A</span> <span class="p">{</span>
  <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nf">C</span><span class="p">()</span> <span class="p">:</span> <span class="n">A</span><span class="p">(</span><span class="m">239</span><span class="p">),</span> <span class="n">B</span> <span class="p">{}</span>
</code></pre></div>

<p>In this example, we have a base class <em>A</em>, that defines a concrete property <em>y</em> and initializes it.
The trait <em>B</em> extends this class, but does not pass a constructor parameter in, because traits have no initialization code at all.
Note that <em>B</em> has access to the property <em>y</em> defined in <em>A</em>. Now, class <em>C</em> extends <em>A</em> and initializes it with <em>239</em>, and extends <em>B</em>.
Extending <em>B</em> is OK because <em>B</em> requires <em>A</em>, and we extend <em>A</em>.</p>

<p>What happens when we call <em>foo()</em> on an instance of <em>C</em>?
It prints 478 (239 * 2), because the value of <em>y</em> is obtained from this instance, and the constructor of <em>C</em> has written 239 there.</p>

<h3 id="resolving-overriding-conflicts">Resolving overriding conflicts</h3>

<p>When we declare many types in out supertype list, it may appear that we inherit more than one implementation of the same method. For example</p>

<div class="highlight"><pre><code class="kotlin"><span class="n">trait</span> <span class="n">A</span> <span class="p">{</span>
  <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">)</span> <span class="p">}</span>
  <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span>
<span class="p">}</span>

<span class="n">trait</span> <span class="n">B</span> <span class="p">{</span>
  <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;B&quot;</span><span class="p">)}</span>
  <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span><span class="n">print</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">)}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nf">C</span><span class="p">()</span> <span class="p">:</span> <span class="n">A</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">bar</span><span class="p">()</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">&quot;bar&quot;</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>

<span class="k">class</span> <span class="nf">D</span><span class="p">()</span> <span class="p">:</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span> <span class="p">{</span>
  <span class="k">override</span> <span class="k">fun</span> <span class="nf">foo</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">super</span><span class="p">&lt;</span><span class="n">A</span><span class="p">&gt;.</span><span class="n">foo</span><span class="p">()</span>
    <span class="n">super</span><span class="p">&lt;</span><span class="n">B</span><span class="p">&gt;.</span><span class="n">foo</span><span class="p">()</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>Traits <em>A</em> and <em>B</em> both declare functions <em>foo()</em> and <em>bar()</em>. Both of them implement <em>foo()</em>, but only <em>B</em> implements <em>bar()</em> (<em>bar()</em> is not marked abstract in <em>A</em>,
because this is the default for traits, if the function has no body). Now, if we derive a concrete class <em>C</em> from <em>A</em>, we, obviously, have to override <em>bar()</em> and provide
an implementation. And if we derive <em>D</em> from <em>A</em> and <em>B</em>, we donâ€™t have to override <em>bar()</em>, because we have inherited only one implementation of it.
But we have inherited two implementations of <em>foo()</em>, so the compiler does not know, which one to choose, and forces us to override <em>foo()</em> and say what we want explicitly.</p>

<h3 id="the-text">The Text</h3>

    </div>

</div>

<footer class="global-footer">

    <div class="global-footer-externals">
        <div class="g-layout">
            <div class="g-8">
                <div class="header">Stay Tuned!</div>
                <ul class="externals-links-list">
                    <li class="list-item">
                        <a href="http://twitter.com/project_kotlin" class="link link_twitter">
                            <span class="icon icon_twitter"></span>
                            <span class="text">@project_kotlin</span>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="https://plus.google.com/communities/104597899765146112928" class="link link_gplus">
                            <span class="icon gray-icon icon_gplus"></span>
                            <span class="text">Google+</span>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="http://blog.jetbrains.com/kotlin/" class="link link_blog">
                            <span class="icon gray-icon icon_blog"></span>
                            <span class="text">Blog</span>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="http://youtrack.jetbrains.com/issues/KT" class="link link_issue-tracker">
                            <span class="icon gray-icon icon_youtrack"></span>
                            <span class="text">Issue Tracker</span>
                        </a>
                    </li>

                    <li class="list-item">
                        <a href="http://devnet.jetbrains.net/community/kotlin" class="link link_forum">
                            <span class="icon gray-icon icon_forum"></span>
                            <span class="text">Forum</span>
                        </a>
                    </li>
                </ul>
            </div>

        </div>
    </div>

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000-2013 JetBrains. All rights reserved
                <br>
                <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains">JetBrains</a>
            </div>
        </div>
    </div>

</footer>
<!--
Include all scripts required here
-->

<script type="text/javascript" src="/scripts/jquery-2.0.3.min.js"></script>
<script type="text/javascript" src="/scripts/jquery.toc.min.js"></script>

</body>
</html>