<html>
<head>
<meta charset="utf-8">


<title>Kotlin to JavaScript - Kotlin Programming Language</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<link rel="Shortcut Icon" href="/kotlin-web-site-ja/assets/images/favicon.ico" type="image/x-icon"/>
<link rel="apple-touch-icon" href="/kotlin-web-site-ja/assets/images/apple-touch-icon.png"/>
<link rel="apple-touch-icon" sizes="72x72"
      href="/kotlin-web-site-ja/assets/images/apple-touch-icon-72x72.png"/>
<link rel="apple-touch-icon" sizes="114x114"
      href="/kotlin-web-site-ja/assets/images/apple-touch-icon-114x114.png"/>
<link rel="apple-touch-icon" sizes="144x144"
      href="/kotlin-web-site-ja/assets/images/apple-touch-icon-144x144.png"/>
<link rel="stylesheet" href="/kotlin-web-site-ja/_assets/styles.css">


<!-- Social Media tag Starts -->
<!-- Place this data between the <head> tags of your website -->
<!-- Open Graph data -->
<meta property="og:title" content="Kotlin to JavaScript - Kotlin Programming Language"/>
<meta property="og:type" content="website"/>
<meta property="og:url" content="https://kotlinlang.org/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.html"/>
<meta property="og:image" content="https://kotlinlang.org/assets/images/open-graph/kotlin_250x250.png"/>
    <meta property="og:description" content="A look at how Kotlin compiles to JavaScript and the use cases for that.">
<meta property="og:site_name" content="Kotlin"/>

<!-- Twitter Card data -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@kotlin">
<meta name="twitter:title" content="Kotlin to JavaScript - Kotlin Programming Language">
    <meta name="twitter:description" content="A look at how Kotlin compiles to JavaScript and the use cases for that.">
<meta name="twitter:image:src" content="https://kotlinlang.org/assets/images/twitter-card/kotlin_800x320.png">
<!-- Social Media tag Ends -->    <script src="/kotlin-web-site-ja/_assets/default.js"></script>
    <script src="/kotlin-web-site-ja/_assets/common.js"></script>
</head>
<body>
<!--Google Analytics-->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-88424767-1', 'auto');
  ga('send', 'pageview');

</script>
<!--/Google Analytics-->
<div class="global-layout">

<header class="global-header">

    <div class="global-header-panel">
        <div class="g-layout">
            <a class="global-header-logo" href="/kotlin-web-site-ja/">Kotlin</a>
<nav role="navigation" class="global-nav">

    <div class="nav-links">

            <a href="/kotlin-web-site-ja/docs/reference/"
               class="nav-item "
            >
                Learn
            </a>

            <a href="/kotlin-web-site-ja/contribute.html"
               class="nav-item "
            >
                Contribute
            </a>

            <a href="http://try.kotlinlang.org"
               class="nav-item "
            >
                Try Online
            </a>
    </div>


<div id="global-search" class=" global-search" title="Search">
    <div class="search-button">
        <div class="icon"></div>
    </div>
    <div class="search-box">
        <div class="gcse-searchbox-only"
             data-resultsUrl="/search.html"
             data-newWindow="false"
        ></div>
    </div>
</div></nav>        </div>
    </div>

    <div class="g-layout">
    </div>
</header>
    <div class="g-layout global-content">
    <div class="g-grid">

        <div class="g-12">
<nav role="navigation" class="docs-nav">
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/reference/" class="nav-item">
                    <span class="nav-item-text">
                        リファレンス
                    </span>
                </a>

        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/tutorials/" class="nav-item is_active">
                        <span class="nav-item-text">
                            Tutorials
                        </span>
                </a>
        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/videos.html" class="nav-item">
                    <span class="nav-item-text">
                        Videos
                    </span>
                </a>

        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/events.html" class="nav-item">
                    <span class="nav-item-text">
                        Events
                    </span>
                </a>

        </div>
        <div class="nav-item-wrap">
                <a href="/kotlin-web-site-ja/docs/resources.html" class="nav-item">
                    <span class="nav-item-text">
                        More resources
                    </span>
                </a>

        </div>
</nav>        </div>

        <aside class="g-3">
            <div id="tutorials-nav">
                    <nav role="navigation" class="side-tree-nav">
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Getting Started">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Getting Started</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/getting-started.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Getting Started with IntelliJ IDEA</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/getting-started-eclipse.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Getting Started with Eclipse</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/command-line.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Working with the Command Line Compiler</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/build-tools.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Working with Build Tools</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/koans.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Koans</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Java Interop">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Java Interop</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/mixing-java-kotlin-intellij.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Mixing Java and Kotlin in one project</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _opened"
                 data-id="JavaScript">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">JavaScript</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <div class="tree-item-title tree-leaf-title js-item-title js-leaf-title is_active">
                                <div class="marker"></div>
                                <div class="text">Kotlin to JavaScript</div>
                            </div>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/javascript/getting-started-idea/getting-started-with-intellij-idea.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Getting Started with Kotlin and JavaScript with IntelliJ IDEA</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/javascript/working-with-modules/working-with-modules.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Working with Kotlin and JavaScript Modules</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/javascript/getting-started-command-line/command-line-library-js.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Creating a Kotlin JavaScript library with the Command Line Compiler</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/javascript/getting-started-maven/getting-started-with-maven.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Getting Started with Kotlin and JavaScript with Maven</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Getting Started with Kotlin and JavaScript with Gradle</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Web Development">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Web Development</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/httpservlets.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Creating Web Applications with Http Servlets</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/spring-boot-restful.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Creating a RESTful Web Service with Spring Boot</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Mobile">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Mobile</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/kotlin-android.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Getting Started With Android Development</span>
                            </a>
                    </div>
                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/android-plugin.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Kotlin Android Extensions</span>
                            </a>
                    </div>

            </div>
            <div class="tree-item tree-branch js-item js-branch _closed"
                 data-id="Tools">

                <div class="tree-item-title tree-branch-title js-item-title js-branch-title">
                    <div class="marker"></div>
                    <div class="text">Tools</div>
                </div>

                    <div class="tree-item tree-leaf js-item js-leaf">
                            <a href="/kotlin-web-site-ja/docs/tutorials/kotlin-and-ci.html"
                               class="tree-item-title tree-leaf-title js-item-title js-leaf-title"
                            >
                                <span class="marker"></span>
                                <span class="text">Setting up Kotlin on TeamCity</span>
                            </a>
                    </div>

            </div>
    </nav>

            </div>
        </aside>

        <article role="main" class="page-content g-9">
<a href="https://github.com/dogwood008/kotlin-web-site-ja/edit/master/pages/docs/tutorials/javascript/kotlin-to-javascript/kotlin-to-javascript.md"
   class="page-link-to-github"
   target="_blank"
   title="Edit this page on GitHub">
        <i class="github-icon"></i>
        <span class="text">Edit Page</span>
</a>
            <h1>
                Kotlin to JavaScript
            </h1>
            <table>
                    <tr>
                        <td>
                            <strong>Last Updated</strong>
                        </td>
                        <td>
                            29 September 2016
                        </td>
                    </tr>
            </table>
                A look at how Kotlin compiles to JavaScript and the use cases for that.
                <br/>
                <br/>
            
<h2 id="what-it-does">What it does</h2>
<p>Kotlin provides the ability to target JavaScript. It does so by transpiling Kotlin to JavaScript. The current implementation targets ECMAScript 5.1 but there are plans to eventually
 target ECMAScript 6 also.</p>
<p>When you choose the JavaScript target, any Kotlin code that is part of the project as well as the standard library that ships with Kotlin is transpiled to JavaScript.
However, this excludes the JDK and any JVM or Java framework or library used. Any file that is not Kotlin will be ignored during compilation.</p>
<p>The Kotlin compiler tries to comply with the following goals:</p>
<ul>
<li>Provide output that is optimal in size</li>
<li>Provide output that is readable JavaScript</li>
<li>Provide interoperability with existing module systems</li>
<li>Provide the same functionality in the standard library whether targeting JavaScript or the JVM (to the largest possible degree).</li>
</ul>
<h2 id="how-can-it-be-used">How can it be used</h2>
<p>You may want to compile Kotlin to JavaScript in the following scenarios:</p>
<ul>
<li>
<p>Creating Kotlin code that targets client-side JavaScript</p>
<ul>
<li>
<p><strong>Interacting with DOM elements</strong>. Kotlin provides a series of statically typed interfaces to interact with the Document Object Model, allowing creation and update of DOM elements.</p>
</li>
<li>
<p><strong>Interacting with graphics such as WebGL</strong>. You can use Kotlin to create graphical elements on a web page using WebGL.</p>
</li>
</ul>
</li>
<li>
<p>Creating Kotlin code that targets server-side JavaScript</p>
<ul>
<li><strong>Working with server-side technology</strong>. You can use Kotlin to interact with server-side JavaScript such as node.js</li>
</ul>
</li>
<li>
<p>Using Kotlin as a wrapper for third-party libraries or frameworks</p>
<ul>
<li><strong>Statically typed wrapper around common libraries such as jQuery or ReactJS</strong>. We ship a series of statically-typed wrappers common libraries such as jQuery, but there are also
   third-party projects that do the same with frameworks such as AngularJS or ReactJS. Kotlin will eventually be able to use the <a href="http://definitelytyped.org/">Definitely Typed TypeScript</a> type definitions repository.</li>
</ul>
</li>
</ul>
<p>Kotlin is also compatible with CommonJS, AMD and UMD, <a href="../working-with-modules/working-with-modules.html">making interaction with different</a> module systems straightforward</p>
<h2 id="kotlin-to-javascript-in-action">Kotlin to JavaScript in Action</h2>
<p>There are multiple ways to compile Kotlin to JavaScript. If using IntelliJ IDEA, we can invoke the <code>Build Project</code> action to compile. If using Maven or Gradle, we need to target 
JavaScript. To learn more about how to compile to JavaScript please see the corresponding tutorials</p>
<ul>
<li><a href="../getting-started-command-line/command-line-library-js.html">Getting Started with the Command Line</a></li>
<li><a href="../getting-started-idea/getting-started-with-intellij-idea.html">Getting Started with IntelliJ IDEA</a></li>
<li><a href="../getting-started-maven/getting-started-with-maven.html">Getting Started with Maven</a></li>
<li><a href="../getting-started-gradle/getting-started-with-gradle.html">Getting Started with Gradle</a></li>
</ul>
<h3 id="examining-the-compilation-output">Examining the Compilation Output</h3>
<p>When compiling (we'll use this term interchangeably with transpiling) to JavaScript, Kotlin outputs two main files:</p>
<ul>
<li><code>kotlin.js</code>. The runtime and standard library. This doesn't change between applications. It's tied to the version of Kotlin being used.</li>
<li><code>{module}.js</code>. The actual code from the application. All files are compiled into a single JavaScript file which has the same name as the module.</li>
</ul>
<p>In addition, each of these also have a corresponding <code>{file}.meta.js</code> meta file which will be used for reflection and other functionality.</p>
<p>Taking the above into account, given the following code (module name is <code>ConsoleOutput</code>)</p>
<pre><code class="code _highlighted" data-lang="text/x-kotlin">fun main(args: Array&lt;String&gt;) {
    println("Hello JavaScript!")
}
</code></pre>
<p>Kotlin compiler would generate the following output</p>
<p><img alt="Compiler Output" src="/kotlin-web-site-ja/assets/images/tutorials/javascript/kotlin-to-javascript/compiler-output.png"/></p>
<p>The file we're mostly interested in is <code>ConsoleOutput.js</code></p>
<pre><code class="code _highlighted" data-lang="text/javascript">var ConsoleOutput = function (Kotlin) {
  'use strict';
  var _ = Kotlin.defineRootPackage(null, /** @lends _ */ {
    main_kand9s$: function (args) {
      Kotlin.println('Hello JavaScript!');
    }
  });
  Kotlin.defineModule('ConsoleOutput', _);
  _.main_kand9s$([]);
  return _;
}(kotlin);
</code></pre>
<p>This is the output generated by our main function that writes out to the console. We can see that it is declaring a function and assigning it to a variable named <code>ConsoleOutput</code> which once again coincides with the module name. 
Next, it uses the passed in parameter <code>Kotlin</code> to call the function <code>defineRootPackage</code>. This function in turn takes an object which corresponds to the code that is declared in the package. Given we did not
use a package name, it is using the default root package. If we declared our code in a package, then the call would be <code>definePackage</code>. These functions are all part of the Kotlin standard library which ships as part of <code>kotlin.js</code>.</p>
<p>The only function we have is the <code>main</code> function. Here we can see that the compiler is suffixing it with a mangled word. The reason for this is due to the possibility to have overloaded functions in <code>Kotlin</code> and there needs to be a way to
translate these to their corresponding JavaScript ones. While we cannot currently influence the name of these functions, an annotation (<code>@JsName</code>) will be introduced to allow this option.</p>
<p>Finally the code defines the module.</p>
<p>Given this is a self-executing-function, as soon as the code is loaded, it will execute, taking in as parameter the object <code>kotlin</code> which is defined in <code>kotlin.js</code> and provides access to all the functions used.</p>
<h4 id="running-the-code">Running the code</h4>
<p>The purpose of this code is to write out some text in the console. In order to use this from the browser, we need to load it, preferably from inside an HTML page:</p>
<pre><code class="code _highlighted" data-lang="application/xml">&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Console Output&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;script type="text/javascript" src="out/production/ConsoleOutput/lib/kotlin.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" src="out/production/ConsoleOutput/ConsoleOutput.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Note that we're loading the <code>kotlin.js</code> runtime first and then loading our application.</p>
<p>The output of this is a blank page that prints <code>Hello JavaScript</code> to the console.</p>
<p><img alt="Application Output" src="/kotlin-web-site-ja/assets/images/tutorials/javascript/kotlin-to-javascript/app-output.png"/></p>
<h2 id="summary">Summary</h2>
<p>As can be seen, Kotlin aims to create very concise and readable JavaScript allowing us to interact with it as needed. One question of course is why go to 
all this trouble to as opposed to just use <code>console.log()</code>. Obviously this is a very simple example that shows the basics of how it works and we've focused on analysing the output. As application complexity grows, the benefits 
of using Kotlin and static typing start to become more apparent.</p>
<p>In subsequent tutorials we'll see how we can influence the files generated, such as location, prefix and suffixes, as well as how we can work with modules.</p>

        </article>
    </div>



    <script src="/kotlin-web-site-ja/_assets/tutorials.js"></script>
    </div>

</div>

<footer role="contentinfo" class="global-footer">

    <div class="global-footer-terms">
        <div class="g-layout">

            <div class="terms-copyright">
                &copy; 2000&ndash;2016 JetBrains. All rights reserved
            </div>

            <div class="terms-sponsor">
                Sponsored and developed by <a href="http://jetbrains.com" class="sponsor sponsor_jetbrains" target="_blank">JetBrains</a>
            </div>
        </div>
    </div>

</footer></body>
</html>