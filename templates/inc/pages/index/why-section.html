{% macro switch_tabs(data) -%}
    <div class="kjq-tabs kjq-tabs_size_s">
        <ul class="kjq-tabs__list">
            {% for feature in data %}
                <li class="kjq-tabs__tab kjq-tabs-tab" data-tab-id="{{ feature.id }}">
                    <p class="kjq-tabs-tab__title">{{ feature.id.capitalize() }}</p>
                    <div class="kjq-tabs-tab__content">
                        {{ feature.content | safe }}
                    </div>
                </li>
            {% endfor %}
        </ul>
    </div>
{%- endmacro %}

<article class="kto-overview-section kotlin-why-section">
    <div class="g-layout">
        <h2 id="why-kotlin" class="kto-heading kto-heading_size_h1">
            <a class="kto-overview-section__title_link" href="#why-kotlin">Why Kotlin</a>
        </h2>

        <section class="kotlin-why-section__section">
            <h3 class="kto-heading kto-heading_size_hero kotlin-why-section__first-hero">Modern, concise and safe programming language</h3>
            {{ switch_tabs(features) }}
            <p class="kto-text kto-text_size_m">
                Easy to pick up, so you can create powerful applications immediately.
            </p>
            <a class="kto-button kto-button_size_l kto-button_mode_outline" href="/docs/getting-started.html">
                Get started →
            </a>
        </section>

        <section class="kotlin-why-section__section">
            <h3 class="kto-heading kto-heading_size_hero">A productive way to write server&#8209;side applications</h3>
            <div class="kto-overview-youtube kotlin-why-section__media">
                <iframe width="560" height="315"  frameborder="0" allowfullscreen
                        src="https://www.youtube-nocookie.com/embed/8xAH7RU0Y44"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
            <p class="kto-text kto-text_size_m">
                Compatible with the Java ecosystem. Use your favorite JVM frameworks and libraries.
            </p>
            <a class="kto-button kto-button_size_l kto-button_mode_outline" href="/lp/server-side/" target="_blank">
                Learn more →
            </a>
        </section>

        <section class="kotlin-why-section__section">
            <h3 class="kto-heading kto-heading_size_hero">Natural way to share code between mobile platforms</h3>
            <img class="kotlin-why-section__media kotlin-why-section__media_type_why" alt="Mobile platforms Feature" src="/assets/images/index/mobile-platforms.svg" width="100%">
            <p class="kto-text kto-text_size_m">
                Write the business logic for iOS and Android apps just once.  Easily make existing applications cross-platform.
            </p>
            <a class="kto-button kto-button_size_l kto-button_mode_outline" href="https://kotlinlang.org/lp/mobile/" target="_blank">
                Browse KMM →
            </a>
        </section>

        <section class="kotlin-why-section__section">
            <h3 class="kto-heading kto-heading_size_hero">Big, friendly and helpful  community</h3>
            <div class="kto-overview-youtube kotlin-why-section__media">
                <iframe width="560" height="315" frameborder="0" allowfullscreen
                        src="https://www.youtube-nocookie.com/embed/JGvk4M0Rfxo"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe>
            </div>
            <p class="kto-text kto-text_size_m">
                Kotlin has great support and many contributors in its fast-growing global community. Enjoy the benefits of a rich ecosystem with  a wide range of community libraries. Help is never far away – consult extensive community resources or ask the Kotlin  team directly.
            </p>
            <a class="kto-button kto-button_size_l kto-button_mode_outline" href="/community/">
                Join the community →
            </a>
        </section>
    </div>
</article>
