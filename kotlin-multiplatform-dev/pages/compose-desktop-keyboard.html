<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-25T13:01:22.455449195"><meta name="build-number" content="637"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>Keyboard events | Kotlin Multiplatform Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"events-in-a-focused-component","level":0,"title":"Events in a focused component","anchor":"#events-in-a-focused-component"},{"id":"events-in-a-window-scope","level":0,"title":"Events in a window scope","anchor":"#events-in-a-window-scope"},{"id":"what-s-next","level":0,"title":"What\u0027s next?","anchor":"#what-s-next"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><link rel="icon" type="image/x-icon" sizes="16x16" href="https://resources.jetbrains.com/storage/ui/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-57x57.png"><link rel="icon" type="image/png" sizes="96x96" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-60x60.png"><link rel="icon" type="image/png" sizes="300x300" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-72x72.png"><link rel="icon" type="image/png" sizes="500x500" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-76x76.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Keyboard events | Kotlin Multiplatform"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><meta property="og:site_name" content="Kotlin Multiplatform Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-desktop-keyboard.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="Keyboard events | Kotlin Multiplatform"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-desktop-keyboard.html#webpage",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-desktop-keyboard.html",
    "name": "Keyboard events | Kotlin Multiplatform",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/#website",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/",
    "name": "Kotlin Multiplatform Help"
}</script><!-- End Schema.org --><meta name="msapplication-TileColor" content="#000000"/>
<meta name="msapplication-TileImage"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/>
<meta name="msapplication-square70x70logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/>
<meta name="msapplication-square150x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/>
<meta name="msapplication-wide310x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/>
<meta name="msapplication-square310x310logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>
<script>document.cookie="wh_theme=light;expires="+(new Date(Date.now()+500000000).toUTCString())+"; path=/;";</script>
<style>
<!--slack icon-->
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]{position:relative;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"] svg{visibility:hidden;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]::before{
display:block;content:"";position:absolute;top:0;bottom:0;left:0;right:0;
background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23fff"><path d="M9.586 6.601h1.9v-1.9a1.837 1.837 0 00-1.9-1.9 1.9 1.9 0 000 3.8zm1.9 7.6v4.7a1.837 1.837 0 01-1.9 1.9 1.9 1.9 0 01-1.9-1.9v-4.7a1.899 1.899 0 011.9-1.9 1.837 1.837 0 011.9 1.9zm-5.864 1.773a1.839 1.839 0 01-.737.127 1.9 1.9 0 010-3.8h1.9v1.9a1.839 1.839 0 01-1.163 1.773zm3.963-4.673h-4.7a1.9 1.9 0 010-3.8h4.7a1.838 1.838 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9zm11.4-1.9a1.967 1.967 0 00-1.9-1.9 1.899 1.899 0 00-1.9 1.9v1.9h1.9a1.9 1.9 0 001.9-1.9zm-5.862 1.773a1.839 1.839 0 01-.738.127 1.9 1.9 0 01-1.9-1.9v-4.7a1.839 1.839 0 011.9-1.9 1.898 1.898 0 011.9 1.9v4.7a1.837 1.837 0 01-1.162 1.773zm-.738 9.628a1.839 1.839 0 001.9-1.9 1.9 1.9 0 00-1.9-1.9h-1.9v1.9a1.899 1.899 0 001.9 1.9zm4.7-4.7h-4.7a1.9 1.9 0 110-3.8h4.7a1.836 1.836 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9z"/></svg>') no-repeat center;background-size:20px 20px;}
[data-test="footer-socials"]+.jb-footer__legal{flex-basis:100%;margin-top:8px;}

<!--Drop any switches and set default theme-->
.wh-header__switchers{display:none!important}
</style></head><body data-id="compose-desktop-keyboard" data-main-title="Keyboard events" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Compose Multiplatform UI framework///Desktop-specific components" data-edit-url="https://github.com/JetBrains/kotlin-multiplatform-dev-docs/edit/master/topics/compose/compose-desktop-keyboard.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin Multiplatform  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="compose-desktop-keyboard" id="compose-desktop-keyboard.md">Keyboard events</h1><p id="-ts2hyg_2">In Compose Multiplatform for desktop, you can manage keyboard events by setting up event handlers in two different scopes:</p><ul class="list _bullet" id="-ts2hyg_3"><li class="list__item" id="-ts2hyg_7"><p>Event handlers based on the focused element.</p></li><li class="list__item" id="-ts2hyg_8"><p>Event handlers in the window scope.</p></li></ul><section class="chapter"><h2 id="events-in-a-focused-component" data-toc="events-in-a-focused-component">Events in a focused component</h2><p id="-ts2hyg_9">This approach implies that pressing a key on a keyboard triggers event handlers for the currently focused component.</p><p id="-ts2hyg_10">A typical scenario is to define keyboard handlers for active controls like <code class="code" id="-ts2hyg_14">TextField</code>. To intercept a key event before it triggers the default action, you can use both the <code class="code" id="-ts2hyg_15">onKeyEvent</code> and <code class="code" id="-ts2hyg_16">onPreviewKeyEvent</code> modifiers. With the <code class="code" id="-ts2hyg_17">onKeyEvent</code> modifier, you can handle an individual keystroke, while <code class="code" id="-ts2hyg_18">onPreviewKeyEvent</code> is preferable for defining shortcuts.</p><p id="-ts2hyg_11">The following sample demonstrates <code class="code" id="-ts2hyg_19">TextField</code> interactions with different actions depending on which key is pressed while you hold <code class="code" id="-ts2hyg_20">Ctrl</code>:</p><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="modifier = Modifier.onPreviewKeyEvent { when">
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.ui.Modifier
import androidx.compose.ui.unit.dp
import androidx.compose.foundation.layout.Arrangement
import androidx.compose.foundation.layout.Column
import androidx.compose.material.MaterialTheme
import androidx.compose.material.Text
import androidx.compose.material.TextField
import androidx.compose.runtime.getValue
import androidx.compose.runtime.mutableStateOf
import androidx.compose.runtime.remember
import androidx.compose.runtime.setValue
import androidx.compose.ui.input.key.Key
import androidx.compose.ui.input.key.isCtrlPressed
import androidx.compose.ui.input.key.key
import androidx.compose.ui.input.key.onPreviewKeyEvent
import androidx.compose.ui.input.key.type
import androidx.compose.ui.input.key.KeyEventType
import androidx.compose.ui.window.singleWindowApplication

fun main() = singleWindowApplication (title = &quot;Key events&quot;) {
    MaterialTheme {
        var consumedText by remember { mutableStateOf(0) }
        var text by remember { mutableStateOf(&quot;&quot;) }
        Column(Modifier.fillMaxSize(), Arrangement.spacedBy(5.dp)) {
            Text(&quot;Consumed text: $consumedText&quot;)
            TextField(
                value = text,
                onValueChange = { text = it },
                modifier = Modifier.onPreviewKeyEvent {
                    when {
                        (it.isCtrlPressed &amp;&amp; it.key == Key.Minus &amp;&amp; it.type == KeyEventType.KeyUp) -&gt; {
                            consumedText -= text.length
                            text = &quot;&quot;
                            true
                        }
                        (it.isCtrlPressed &amp;&amp; it.key == Key.Equals &amp;&amp; it.type == KeyEventType.KeyUp) -&gt; {
                            consumedText += text.length
                            text = &quot;&quot;
                            true
                        }
                        else -&gt; false
                    }
                }
            )
        }
    }
}
</div><figure data-theme="light" id="-ts2hyg_13" width="600"><img alt="Keyboard events in a focused component" src="https://resources.jetbrains.com/help/img/kotlin-multiplatform-dev/compose-desktop-key-focus.png" class="js-gif article__bordered-element" data-gif-src="https://resources.jetbrains.com/help/img/kotlin-multiplatform-dev/compose-desktop-key-focus.animated.gif" width="600" style="width: 600px;"></figure></section><section class="chapter"><h2 id="events-in-a-window-scope" data-toc="events-in-a-window-scope">Events in a window scope</h2><p id="-ts2hyg_21">To define keyboard event handlers that are always active within the current window, use the <code class="code" id="-ts2hyg_25">onPreviewKeyEvent</code> and <code class="code" id="-ts2hyg_26">onKeyEvent</code> parameters, available for the <code class="code" id="-ts2hyg_27">Window</code>, <code class="code" id="-ts2hyg_28">singleWindowApplication</code>, and <code class="code" id="-ts2hyg_29">Dialog</code> functions. They differ in how the event is dispatched when it is not consumed: <code class="code" id="-ts2hyg_30">onPreviewKeyEvent</code> dispatches the event to its first child, and <code class="code" id="-ts2hyg_31">onKeyEvent</code> dispatches the event to the composable's parent. Typically, <code class="code" id="-ts2hyg_32">onPreviewKeyEvent</code> is preferred for intercepting events, as it allows implementing even screen-wide keyboard shortcuts.</p><p id="-ts2hyg_22">The following sample demonstrates window interactions such as closing a pop-up dialog by pressing <code class="code" id="-ts2hyg_33">Escape</code> and changing the window content by pressing the <code class="code" id="-ts2hyg_34">Ctrl+Shift+C</code> shortcut:</p><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="if (it.isCtrlPressed && it.isShiftPressed && it.key == Key.C && ">
import androidx.compose.foundation.layout.Arrangement
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.padding
import androidx.compose.material.Button
import androidx.compose.material.MaterialTheme
import androidx.compose.material.Text
import androidx.compose.runtime.Composable
import androidx.compose.runtime.getValue
import androidx.compose.runtime.mutableStateOf
import androidx.compose.runtime.remember
import androidx.compose.runtime.setValue
import androidx.compose.ui.Modifier
import androidx.compose.ui.input.key.Key
import androidx.compose.ui.input.key.KeyEventType
import androidx.compose.ui.input.key.isCtrlPressed
import androidx.compose.ui.input.key.isShiftPressed
import androidx.compose.ui.input.key.key
import androidx.compose.ui.input.key.type
import androidx.compose.ui.unit.dp
import androidx.compose.ui.window.DialogWindow
import androidx.compose.ui.window.singleWindowApplication

private var cleared by mutableStateOf(false)

fun main() = singleWindowApplication(
    title = &quot;Keyboard events&quot;,
    onKeyEvent = {
        if (
            it.isCtrlPressed &amp;&amp;
            it.isShiftPressed &amp;&amp;
            it.key == Key.C &amp;&amp;
            it.type == KeyEventType.KeyDown
        ) {
            cleared = true
            true
        } else {
            false
        }
    }
) {
    MaterialTheme {
        if (cleared) {
            Text(&quot;The App was cleared!&quot;)
        } else {
            App()
        }
    }
}

@Composable
fun App() {
    var isDialogOpen by remember { mutableStateOf(false) }

    if (isDialogOpen) {
        DialogWindow(onCloseRequest = { isDialogOpen = false },
            title = &quot;Dialog&quot;,
            onPreviewKeyEvent = {
                if (it.key == Key.Escape &amp;&amp; it.type == KeyEventType.KeyDown) {
                    isDialogOpen = false
                    true
                } else {
                    false
                }
            }) {
            Text(&quot;Hello!&quot;)
        }
    }

    Column(Modifier.fillMaxSize(), Arrangement.spacedBy(5.dp)) {
        Button(
            modifier = Modifier.padding(4.dp),
            onClick = { isDialogOpen = true }
        ) {
            Text(&quot;Open dialog&quot;)
        }
    }
}
</div><figure data-theme="light" id="-ts2hyg_24" width="600"><img alt="Keyboard events in a window scope" src="https://resources.jetbrains.com/help/img/kotlin-multiplatform-dev/compose-desktop-key-window.png" class="js-gif article__bordered-element" data-gif-src="https://resources.jetbrains.com/help/img/kotlin-multiplatform-dev/compose-desktop-key-window.animated.gif" width="600" style="width: 600px;"></figure></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2><ul class="list _bullet" id="-ts2hyg_35"><li class="list__item" id="-ts2hyg_36"><p>See the <a href="https://developer.android.com/reference/kotlin/androidx/compose/ui/input/key/package-summary#keyinputfilter" id="-ts2hyg_38" data-external="true" rel="noopener noreferrer">API reference</a> for details.</p></li><li class="list__item" id="-ts2hyg_37"><p>Explore the tutorials about <a href="https://github.com/JetBrains/compose-multiplatform/tree/master/tutorials#desktop" id="-ts2hyg_39" data-external="true" rel="noopener noreferrer">other desktop components</a>.</p></li></ul></section><div class="last-modified">Last modified: 29 November 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="compose-desktop-mouse-events.html" class="navigation-links__prev">Mouse event listeners</a><a href="compose-native-distribution.html" class="navigation-links__next">Native distributions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.js"></script></body></html>