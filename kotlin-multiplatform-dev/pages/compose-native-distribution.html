<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-25T13:01:22.52196451"><meta name="build-number" content="637"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>Native distributions | Kotlin Multiplatform Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"gradle-plugin","level":0,"title":"Gradle plugin","anchor":"#gradle-plugin"},{"id":"basic-tasks","level":0,"title":"Basic tasks","anchor":"#basic-tasks"},{"id":"including-jdk-modules","level":0,"title":"Including JDK modules","anchor":"#including-jdk-modules"},{"id":"specifying-distribution-properties","level":0,"title":"Specifying distribution properties","anchor":"#specifying-distribution-properties"},{"id":"managing-resources","level":0,"title":"Managing resources","anchor":"#managing-resources"},{"id":"custom-source-sets","level":0,"title":"Custom source sets","anchor":"#custom-source-sets"},{"id":"application-icon","level":0,"title":"Application icon","anchor":"#application-icon"},{"id":"platform-specific-options","level":0,"title":"Platform-specific options","anchor":"#platform-specific-options"},{"id":"macos-specific-configuration","level":0,"title":"macOS-specific configuration","anchor":"#macos-specific-configuration"},{"id":"minification-and-obfuscation","level":0,"title":"Minification and obfuscation","anchor":"#minification-and-obfuscation"},{"id":"what-s-next","level":0,"title":"What\u0027s next?","anchor":"#what-s-next"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><link rel="icon" type="image/x-icon" sizes="16x16" href="https://resources.jetbrains.com/storage/ui/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-57x57.png"><link rel="icon" type="image/png" sizes="96x96" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-60x60.png"><link rel="icon" type="image/png" sizes="300x300" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-72x72.png"><link rel="icon" type="image/png" sizes="500x500" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-76x76.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Native distributions | Kotlin Multiplatform"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><meta property="og:site_name" content="Kotlin Multiplatform Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-native-distribution.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="Native distributions | Kotlin Multiplatform"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-native-distribution.html#webpage",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/compose-native-distribution.html",
    "name": "Native distributions | Kotlin Multiplatform",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/#website",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/",
    "name": "Kotlin Multiplatform Help"
}</script><!-- End Schema.org --><meta name="msapplication-TileColor" content="#000000"/>
<meta name="msapplication-TileImage"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/>
<meta name="msapplication-square70x70logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/>
<meta name="msapplication-square150x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/>
<meta name="msapplication-wide310x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/>
<meta name="msapplication-square310x310logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>
<script>document.cookie="wh_theme=light;expires="+(new Date(Date.now()+500000000).toUTCString())+"; path=/;";</script>
<style>
<!--slack icon-->
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]{position:relative;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"] svg{visibility:hidden;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]::before{
display:block;content:"";position:absolute;top:0;bottom:0;left:0;right:0;
background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23fff"><path d="M9.586 6.601h1.9v-1.9a1.837 1.837 0 00-1.9-1.9 1.9 1.9 0 000 3.8zm1.9 7.6v4.7a1.837 1.837 0 01-1.9 1.9 1.9 1.9 0 01-1.9-1.9v-4.7a1.899 1.899 0 011.9-1.9 1.837 1.837 0 011.9 1.9zm-5.864 1.773a1.839 1.839 0 01-.737.127 1.9 1.9 0 010-3.8h1.9v1.9a1.839 1.839 0 01-1.163 1.773zm3.963-4.673h-4.7a1.9 1.9 0 010-3.8h4.7a1.838 1.838 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9zm11.4-1.9a1.967 1.967 0 00-1.9-1.9 1.899 1.899 0 00-1.9 1.9v1.9h1.9a1.9 1.9 0 001.9-1.9zm-5.862 1.773a1.839 1.839 0 01-.738.127 1.9 1.9 0 01-1.9-1.9v-4.7a1.839 1.839 0 011.9-1.9 1.898 1.898 0 011.9 1.9v4.7a1.837 1.837 0 01-1.162 1.773zm-.738 9.628a1.839 1.839 0 001.9-1.9 1.9 1.9 0 00-1.9-1.9h-1.9v1.9a1.899 1.899 0 001.9 1.9zm4.7-4.7h-4.7a1.9 1.9 0 110-3.8h4.7a1.836 1.836 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9z"/></svg>') no-repeat center;background-size:20px 20px;}
[data-test="footer-socials"]+.jb-footer__legal{flex-basis:100%;margin-top:8px;}

<!--Drop any switches and set default theme-->
.wh-header__switchers{display:none!important}
</style></head><body data-id="compose-native-distribution" data-main-title="Native distributions" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Compose Multiplatform UI framework///Desktop-specific components" data-edit-url="https://github.com/JetBrains/kotlin-multiplatform-dev-docs/edit/master/topics/compose/compose-native-distribution.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin Multiplatform  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="compose-native-distribution" id="compose-native-distribution.md">Native distributions</h1><p id="o4t1b4_2">Here, you'll learn about native distributions: how to create installers and packages for all of the supported systems, and how to run an application locally with the same settings as for distributions.</p><p id="o4t1b4_3">Read on for the details about the following topics:</p><ul class="list _bullet" id="o4t1b4_4"><li class="list__item" id="o4t1b4_16"><p><a href="#gradle-plugin" id="o4t1b4_25">What is Compose Multiplatform Gradle plugin</a>?</p></li><li class="list__item" id="o4t1b4_17"><p><a href="#basic-tasks" id="o4t1b4_26">Details on basic tasks</a> such as running an application locally, and <a href="#minification-and-obfuscation" id="o4t1b4_27">advanced tasks</a> like minification and obfuscation.</p></li><li class="list__item" id="o4t1b4_18"><p><a href="#including-jdk-modules" id="o4t1b4_28">How to include JDK modules</a> and deal with <code class="code" id="o4t1b4_29">ClassNotFoundException</code>.</p></li><li class="list__item" id="o4t1b4_19"><p><a href="#specifying-distribution-properties" id="o4t1b4_30">How to specify distribution properties</a>: package version, JDK version, output directory, launcher properties, and metadata.</p></li><li class="list__item" id="o4t1b4_20"><p><a href="#managing-resources" id="o4t1b4_31">How to manage resources</a> using resources library, JVM resource loading, or adding files to packaged applications.</p></li><li class="list__item" id="o4t1b4_21"><p><a href="#custom-source-sets" id="o4t1b4_32">How to customize source sets</a> using Gradle source set, Kotlin JVM target, or manually.</p></li><li class="list__item" id="o4t1b4_22"><p><a href="#application-icon" id="o4t1b4_33">How to specify application icon</a> for each OS.</p></li><li class="list__item" id="o4t1b4_23"><p><a href="#platform-specific-options" id="o4t1b4_34">Platform-specific options</a>, such as email of the package maintainer on Linux and the app category for the Apple App Store on macOS.</p></li><li class="list__item" id="o4t1b4_24"><p><a href="#macos-specific-configuration" id="o4t1b4_35">macOS-specific configuration</a>: signing, notarization, and <code class="code" id="o4t1b4_36">Info.plist</code>.</p></li></ul><section class="chapter"><h2 id="gradle-plugin" data-toc="gradle-plugin">Gradle plugin</h2><p id="o4t1b4_37">This guide is primarily focused on packaging Compose applications using the Compose Multiplatform Gradle plugin. The <code class="code" id="o4t1b4_41">org.jetbrains.compose</code> plugin provides tasks for basic packaging, obfuscation, and macOS code signing.</p><p id="o4t1b4_38">The plugin simplifies the process of packaging applications into native distributions using <code class="code" id="o4t1b4_42">jpackage</code> and running an application locally. Distributable applications are self-contained, installable binaries that include all the necessary Java runtime components, without requiring a JDK to be installed on the target system.</p><p id="o4t1b4_39">To minimize package size, the Gradle plugin uses the <a href="https://openjdk.org/jeps/282" id="o4t1b4_43" data-external="true" rel="noopener noreferrer">jlink</a> tool that ensures bundling only the necessary Java modules in the distributable package. However, you still must configure the Gradle plugin to specify which modules you need. For more information, see the <a href="#including-jdk-modules" id="o4t1b4_44">Including JDK modules</a> section.</p><p id="o4t1b4_40">As an alternative, you can use <a href="https://www.hydraulic.software" id="o4t1b4_45" data-external="true" rel="noopener noreferrer">Conveyor</a>, an external tool not developed by JetBrains. Conveyor supports online updates, cross-building, and various other features but requires a <a href="https://hydraulic.software/pricing.html" id="o4t1b4_46" data-external="true" rel="noopener noreferrer">license</a> for non-open source projects. For more information, refer to the <a href="https://conveyor.hydraulic.dev/latest/tutorial/hare/jvm" id="o4t1b4_47" data-external="true" rel="noopener noreferrer">Conveyor documentation</a>.</p></section><section class="chapter"><h2 id="basic-tasks" data-toc="basic-tasks">Basic tasks</h2><p id="o4t1b4_48">The basic configurable unit in the Compose Multiplatform Gradle plugin is an <code class="code" id="o4t1b4_57">application</code> (not to be confused with the <a href="https://docs.gradle.org/current/userguide/application_plugin.html" id="o4t1b4_58" data-external="true" rel="noopener noreferrer">Gradle application</a> plugin, which is deprecated).</p><p id="o4t1b4_49">The <code class="code" id="o4t1b4_59">application</code> DSL method defines a shared configuration for a set of final binaries, which means it allows you to pack a collection of files, together with a JDK distribution, into a set of compressed binary installers in various formats.</p><p id="o4t1b4_50">The following formats are available for the supported operating systems:</p><ul class="list _bullet" id="o4t1b4_51"><li class="list__item" id="o4t1b4_60"><p><span class="control" id="o4t1b4_63">macOS</span>: <code class="code" id="o4t1b4_64">.dmg</code> (<code class="code" id="o4t1b4_65">TargetFormat.Dmg</code>), <code class="code" id="o4t1b4_66">.pkg</code> (<code class="code" id="o4t1b4_67">TargetFormat.Pkg</code>)</p></li><li class="list__item" id="o4t1b4_61"><p><span class="control" id="o4t1b4_68">Windows</span>: <code class="code" id="o4t1b4_69">.exe</code> (<code class="code" id="o4t1b4_70">TargetFormat.Exe</code>), <code class="code" id="o4t1b4_71">.msi</code> (<code class="code" id="o4t1b4_72">TargetFormat.Msi</code>)</p></li><li class="list__item" id="o4t1b4_62"><p><span class="control" id="o4t1b4_73">Linux</span>: <code class="code" id="o4t1b4_74">.deb</code> (<code class="code" id="o4t1b4_75">TargetFormat.Deb</code>), <code class="code" id="o4t1b4_76">.rpm</code> (<code class="code" id="o4t1b4_77">TargetFormat.Rpm</code>)</p></li></ul><p id="o4t1b4_52">Here is an example of a <code class="code" id="o4t1b4_78">build.gradle.kts</code> file with a basic desktop configuration:</p><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="compose.desktop { application { mainClass = ">
import org.jetbrains.compose.desktop.application.dsl.TargetFormat

plugins {
    kotlin(&quot;jvm&quot;)
    id(&quot;org.jetbrains.compose&quot;)
}

dependencies {
    implementation(compose.desktop.currentOs)
}

compose.desktop {
    application {
        mainClass = &quot;example.MainKt&quot;

        nativeDistributions {
            targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Exe)
        }
    }
}
</div><p id="o4t1b4_54">When you build a project, the plugin creates the following tasks:</p><div class="table-wrapper"><table class="wide" id="o4t1b4_55"><thead><tr class="ijRowHead" id="o4t1b4_79"><th id="o4t1b4_86"><p>Gradle task</p></th><th id="o4t1b4_87"><p>Description</p></th></tr></thead><tbody><tr id="o4t1b4_80"><td id="o4t1b4_88"><p><code class="code" id="o4t1b4_90">package&lt;FormatName&gt;</code></p></td><td id="o4t1b4_89"><p>Packages the application into the corresponding <code class="code" id="o4t1b4_91">FormatName</code> binary. Cross-compilation is currently not supported, meaning you can build the specific format using the corresponding compatible OS only. For example, to build a <code class="code" id="o4t1b4_92">.dmg</code> binary, you have to run the <code class="code" id="o4t1b4_93">packageDmg</code> task on macOS. If any tasks are incompatible with the current OS, they are skipped by default.</p></td></tr><tr id="o4t1b4_81"><td id="o4t1b4_94"><p><code class="code" id="o4t1b4_96">packageDistributionForCurrentOS</code></p></td><td id="o4t1b4_95"><p>Aggregates all package tasks for an application. It is a <a href="https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:task_categories" id="o4t1b4_97" data-external="true" rel="noopener noreferrer">lifecycle task</a>.</p></td></tr><tr id="o4t1b4_82"><td id="o4t1b4_98"><p><code class="code" id="o4t1b4_100">packageUberJarForCurrentOS</code></p></td><td id="o4t1b4_99"><p>Creates a single jar file containing all dependencies for the current operating system. The task expects <code class="code" id="o4t1b4_101">compose.desktop.currentOS</code> to be used as a <code class="code" id="o4t1b4_102">compile</code>, <code class="code" id="o4t1b4_103">implementation</code>, or <code class="code" id="o4t1b4_104">runtime</code> dependency.</p></td></tr><tr id="o4t1b4_83"><td id="o4t1b4_105"><p><code class="code" id="o4t1b4_107">run</code></p></td><td id="o4t1b4_106"><p>Runs an application locally from the entry point specified in <code class="code" id="o4t1b4_108">mainClass</code>. The <code class="code" id="o4t1b4_109">run</code> task starts a non-packaged JVM application with the full runtime. This approach is faster and easier to debug compared to creating a compact binary image with a minified runtime. To run a final binary image, use the <code class="code" id="o4t1b4_110">runDistributable</code> task instead.</p></td></tr><tr id="o4t1b4_84"><td id="o4t1b4_111"><p><code class="code" id="o4t1b4_113">createDistributable</code></p></td><td id="o4t1b4_112"><p>Creates a final application image without creating an installer.</p></td></tr><tr id="o4t1b4_85"><td id="o4t1b4_114"><p><code class="code" id="o4t1b4_116">runDistributable</code></p></td><td id="o4t1b4_115"><p>Runs a prepackaged application image.</p></td></tr></tbody></table></div><p id="o4t1b4_56">All available tasks are listed in the Gradle tool window. After you execute a task, Gradle generates output binaries in the <code class="code" id="o4t1b4_117">${project.buildDir}/compose/binaries</code> directory.</p></section><section class="chapter"><h2 id="including-jdk-modules" data-toc="including-jdk-modules">Including JDK modules</h2><p id="o4t1b4_118">To reduce the distributable size, the Gradle plugin uses <a href="https://openjdk.org/jeps/282" id="o4t1b4_124" data-external="true" rel="noopener noreferrer">jlink</a> that helps bundle only the necessary JDK modules.</p><p id="o4t1b4_119">For now, the Gradle plugin does not automatically determine necessary JDK Modules. While this will not cause compilation issues, failure to provide the necessary modules can lead to <code class="code" id="o4t1b4_125">ClassNotFoundException</code> at runtime.</p><p id="o4t1b4_120">If you encounter a <code class="code" id="o4t1b4_126">ClassNotFoundException</code> when running a packaged application or the <code class="code" id="o4t1b4_127">runDistributable</code> task, you can include additional JDK modules using the <code class="code" id="o4t1b4_128">modules</code> DSL method:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        nativeDistributions {
            modules(&quot;java.sql&quot;)
            // Alternatively: includeAllModules = true
        }
    }
}
</div><p id="o4t1b4_122">You can specify the required modules manually, or run <code class="code" id="o4t1b4_129">suggestModules</code>. The <code class="code" id="o4t1b4_130">suggestModules</code> task uses the <a href="https://docs.oracle.com/javase/9/tools/jdeps.htm" id="o4t1b4_131" data-external="true" rel="noopener noreferrer">jdeps</a> static analysis tool to determine possible missing modules. Note that the tool's output might be incomplete or list unnecessary modules.</p><p id="o4t1b4_123">If the size of the distributable is not a crucial factor and can be ignored, you may opt to include all runtime modules by using the <code class="code" id="o4t1b4_132">includeAllModules</code> DSL property.</p></section><section class="chapter"><h2 id="specifying-distribution-properties" data-toc="specifying-distribution-properties">Specifying distribution properties</h2><section class="chapter"><h3 id="package-version" data-toc="package-version">Package version</h3><p id="o4t1b4_138">Native distribution packages must have specific package versions. To specify the package version, you can use the following DSL properties, listed from the highest priority level to the lowest:</p><ul class="list _bullet" id="o4t1b4_139"><li class="list__item" id="o4t1b4_147"><p><code class="code" id="o4t1b4_150">nativeDistributions.&lt;os&gt;.&lt;packageFormat&gt;PackageVersion</code> specifies a version for a single package format.</p></li><li class="list__item" id="o4t1b4_148"><p><code class="code" id="o4t1b4_151">nativeDistributions.&lt;os&gt;.packageVersion</code> specifies a version for a single target OS.</p></li><li class="list__item" id="o4t1b4_149"><p><code class="code" id="o4t1b4_152">nativeDistributions.packageVersion</code> specifies a version for all packages.</p></li></ul><p id="o4t1b4_140">On macOS, you can also specify the build version using the following DSL properties, listed, again, from the highest priority level to the lowest:</p><ul class="list _bullet" id="o4t1b4_141"><li class="list__item" id="o4t1b4_153"><p><code class="code" id="o4t1b4_155">nativeDistributions.macOS.&lt;packageFormat&gt;PackageBuildVersion</code> specifies a build version for a single package format.</p></li><li class="list__item" id="o4t1b4_154"><p><code class="code" id="o4t1b4_156">nativeDistributions.macOS.packageBuildVersion</code> specifies a build version for all macOS packages.</p></li></ul><p id="o4t1b4_142">If you don't specify a build version, Gradle uses the package version instead. For more information about versioning on macOS, see the <a href="https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleshortversionstring" id="o4t1b4_157" data-external="true" rel="noopener noreferrer"><code class="code" id="o4t1b4_159">CFBundleShortVersionString</code></a> and <a href="https://developer.apple.com/documentation/bundleresources/information_property_list/cfbundleversion" id="o4t1b4_158" data-external="true" rel="noopener noreferrer"><code class="code" id="o4t1b4_160">CFBundleVersion</code></a> documentation.</p><p id="o4t1b4_143">Here is a template for specifying package versions in order of priority:</p><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="compose.desktop { application { nativeDistributions { packageVersion =">
compose.desktop {
    application {
        nativeDistributions {
            // Version for all packages
            packageVersion = &quot;...&quot; 
          
            macOS {
              // Version for all macOS packages
              packageVersion = &quot;...&quot;
              // Version for the dmg package only
              dmgPackageVersion = &quot;...&quot; 
              // Version for the pkg package only
              pkgPackageVersion = &quot;...&quot; 
              
              // Build version for all macOS packages
              packageBuildVersion = &quot;...&quot;
              // Build version for the dmg package only
              dmgPackageBuildVersion = &quot;...&quot; 
              // Build version for the pkg package only
              pkgPackageBuildVersion = &quot;...&quot; 
            }
            windows {
              // Version for all Windows packages
              packageVersion = &quot;...&quot;  
              // Version for the msi package only
              msiPackageVersion = &quot;...&quot;
              // Version for the exe package only
              exePackageVersion = &quot;...&quot; 
            }
            linux {
              // Version for all Linux packages
              packageVersion = &quot;...&quot;
              // Version for the deb package only
              debPackageVersion = &quot;...&quot;
              // Version for the rpm package only
              rpmPackageVersion = &quot;...&quot;
            }
        }
    }
}
</div><p id="o4t1b4_145">To define a package version, follow these rules:</p><div class="table-wrapper"><table class="wide" id="o4t1b4_146"><thead><tr class="ijRowHead" id="o4t1b4_161"><th id="o4t1b4_166"><p>File Type</p></th><th id="o4t1b4_167"><p>Version format</p></th><th id="o4t1b4_168"><p>Details</p></th></tr></thead><tbody><tr id="o4t1b4_162"><td id="o4t1b4_169"><p><code class="code" id="o4t1b4_172">dmg</code>, <code class="code" id="o4t1b4_173">pkg</code></p></td><td id="o4t1b4_170"><p><code class="code" id="o4t1b4_174">MAJOR[.MINOR][.PATCH]</code></p></td><td id="o4t1b4_171"><ul class="list _bullet" id="o4t1b4_175"><li class="list__item" id="o4t1b4_176"><p><code class="code" id="o4t1b4_179">MAJOR</code> is an integer &gt; 0</p></li><li class="list__item" id="o4t1b4_177"><p><code class="code" id="o4t1b4_180">MINOR</code> is an optional non-negative integer</p></li><li class="list__item" id="o4t1b4_178"><p><code class="code" id="o4t1b4_181">PATCH</code> is an optional non-negative integer</p></li></ul></td></tr><tr id="o4t1b4_163"><td id="o4t1b4_182"><p><code class="code" id="o4t1b4_185">msi</code>, <code class="code" id="o4t1b4_186">exe</code></p></td><td id="o4t1b4_183"><p><code class="code" id="o4t1b4_187">MAJOR.MINOR.BUILD</code></p></td><td id="o4t1b4_184"><ul class="list _bullet" id="o4t1b4_188"><li class="list__item" id="o4t1b4_189"><p><code class="code" id="o4t1b4_192">MAJOR</code> is a non-negative integer with a maximum value of 255</p></li><li class="list__item" id="o4t1b4_190"><p><code class="code" id="o4t1b4_193">MINOR</code> is a non-negative integer with a maximum value of 255</p></li><li class="list__item" id="o4t1b4_191"><p><code class="code" id="o4t1b4_194">BUILD</code> is a non-negative integer with a maximum value of 65535</p></li></ul></td></tr><tr id="o4t1b4_164"><td id="o4t1b4_195"><p><code class="code" id="o4t1b4_198">deb</code></p></td><td id="o4t1b4_196"><p><code class="code" id="o4t1b4_199">[EPOCH:]UPSTREAM_VERSION[-DEBIAN_REVISION]</code></p></td><td id="o4t1b4_197"><ul class="list _bullet" id="o4t1b4_200"><li class="list__item" id="o4t1b4_202"><p><code class="code" id="o4t1b4_205">EPOCH</code> is an optional non-negative integer</p></li><li class="list__item" id="o4t1b4_203"><p><code class="code" id="o4t1b4_206">UPSTREAM_VERSION</code>: </p><ul class="list _bullet" id="o4t1b4_207"><li class="list__item" id="o4t1b4_208"><p>May contain only alphanumerics and the <code class="code" id="o4t1b4_210">.</code>, <code class="code" id="o4t1b4_211">+</code>, <code class="code" id="o4t1b4_212">-</code>, <code class="code" id="o4t1b4_213">~</code> characters</p></li><li class="list__item" id="o4t1b4_209"><p>Must start with a digit</p></li></ul></li><li class="list__item" id="o4t1b4_204"><p><code class="code" id="o4t1b4_214">DEBIAN_REVISION</code>: </p><ul class="list _bullet" id="o4t1b4_215"><li class="list__item" id="o4t1b4_216"><p>Optional</p></li><li class="list__item" id="o4t1b4_217"><p>May contain only alphanumerics and the <code class="code" id="o4t1b4_218">.</code>, <code class="code" id="o4t1b4_219">+</code>, <code class="code" id="o4t1b4_220">~</code> characters</p></li></ul></li></ul><p> For more details, see <a href="https://www.debian.org/doc/debian-policy/ch-controlfields.html#version" id="o4t1b4_201" data-external="true" rel="noopener noreferrer">Debian documentation</a>.</p></td></tr><tr id="o4t1b4_165"><td id="o4t1b4_221"><p><code class="code" id="o4t1b4_224">rpm</code></p></td><td id="o4t1b4_222"><p>Any format</p></td><td id="o4t1b4_223"><p>Version must not contain the <code class="code" id="o4t1b4_225">-</code> (dash) character.</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="jdk-version" data-toc="jdk-version">JDK version</h3><p id="o4t1b4_226">The plugin uses <code class="code" id="o4t1b4_228">jpackage</code>, which requires a JDK version not lower than <a href="https://openjdk.java.net/projects/jdk/17/" id="o4t1b4_229" data-external="true" rel="noopener noreferrer">JDK 17</a>. When specifying a JDK version, ensure you meet at least one of the following requirements:</p><ul class="list _bullet" id="o4t1b4_227"><li class="list__item" id="o4t1b4_230"><p id="o4t1b4_232">The <code class="code" id="o4t1b4_233">JAVA_HOME</code> environment variable points to the compatible JDK version.</p></li><li class="list__item" id="o4t1b4_231"><p id="o4t1b4_234">The <code class="code" id="o4t1b4_236">javaHome</code> property is set via the DSL:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        javaHome = System.getenv(&quot;JDK_17&quot;)
    }
}
</div></li></ul></section><section class="chapter"><h3 id="output-directory" data-toc="output-directory">Output directory</h3><p id="o4t1b4_237">To use custom output directory for native distributions, configure the <code class="code" id="o4t1b4_239">outputBaseDir</code> property as shown below:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        nativeDistributions {
            outputBaseDir.set(project.layout.buildDirectory.dir(&quot;customOutputDir&quot;))
        }
    }
}
</div></section><section class="chapter"><h3 id="launcher-properties" data-toc="launcher-properties">Launcher properties</h3><p id="o4t1b4_240">To tailor the application startup process, you can customize the following properties:</p><div class="table-wrapper"><table class="wide" id="o4t1b4_241"><thead><tr class="ijRowHead" id="o4t1b4_244"><th id="o4t1b4_248"><p>Property</p></th><th id="o4t1b4_249"><p>Description</p></th></tr></thead><tbody><tr id="o4t1b4_245"><td id="o4t1b4_250"><p><code class="code" id="o4t1b4_252">mainClass</code></p></td><td id="o4t1b4_251"><p>The fully-qualified name of the class containing the <code class="code" id="o4t1b4_253">main</code> method.</p></td></tr><tr id="o4t1b4_246"><td id="o4t1b4_254"><p><code class="code" id="o4t1b4_256">args</code></p></td><td id="o4t1b4_255"><p>Arguments for the application's <code class="code" id="o4t1b4_257">main</code> method.</p></td></tr><tr id="o4t1b4_247"><td id="o4t1b4_258"><p><code class="code" id="o4t1b4_260">jvmArgs</code></p></td><td id="o4t1b4_259"><p>Arguments for the application's JVM.</p></td></tr></tbody></table></div><p id="o4t1b4_242">Here's an example configuration:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        mainClass = &quot;MainKt&quot;
        args += listOf(&quot;-customArgument&quot;)
        jvmArgs += listOf(&quot;-Xmx2G&quot;)
    }
}
</div></section><section class="chapter"><h3 id="metadata" data-toc="metadata">Metadata</h3><p id="o4t1b4_261">Within the <code class="code" id="o4t1b4_265">nativeDistributions</code> DSL block, you can configure the following properties:</p><div class="table-wrapper"><table class="wide" id="o4t1b4_262"><thead><tr class="ijRowHead" id="o4t1b4_266"><th id="o4t1b4_273"><p>Property</p></th><th id="o4t1b4_274"><p>Description</p></th><th id="o4t1b4_275"><p>Default value</p></th></tr></thead><tbody><tr id="o4t1b4_267"><td id="o4t1b4_276"><p><code class="code" id="o4t1b4_279">packageName</code></p></td><td id="o4t1b4_277"><p>The application's name.</p></td><td id="o4t1b4_278"><p>The Gradle project's <a href="https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html#getName--" id="o4t1b4_280" data-external="true" rel="noopener noreferrer">name</a></p></td></tr><tr id="o4t1b4_268"><td id="o4t1b4_281"><p><code class="code" id="o4t1b4_284">packageVersion</code></p></td><td id="o4t1b4_282"><p>The application's version.</p></td><td id="o4t1b4_283"><p>The Gradle project's <a href="https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html#getVersion--" id="o4t1b4_285" data-external="true" rel="noopener noreferrer">version</a></p></td></tr><tr id="o4t1b4_269"><td id="o4t1b4_286"><p><code class="code" id="o4t1b4_289">description</code></p></td><td id="o4t1b4_287"><p>The application's description.</p></td><td id="o4t1b4_288"><p>None</p></td></tr><tr id="o4t1b4_270"><td id="o4t1b4_290"><p><code class="code" id="o4t1b4_293">copyright</code></p></td><td id="o4t1b4_291"><p>The application's copyright information.</p></td><td id="o4t1b4_292"><p>None</p></td></tr><tr id="o4t1b4_271"><td id="o4t1b4_294"><p><code class="code" id="o4t1b4_297">vendor</code></p></td><td id="o4t1b4_295"><p>The application's vendor.</p></td><td id="o4t1b4_296"><p>None</p></td></tr><tr id="o4t1b4_272"><td id="o4t1b4_298"><p><code class="code" id="o4t1b4_301">licenseFile</code></p></td><td id="o4t1b4_299"><p>The application's license file.</p></td><td id="o4t1b4_300"><p>None</p></td></tr></tbody></table></div><p id="o4t1b4_263">Here's an example configuration:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        nativeDistributions {
            packageName = &quot;ExampleApp&quot;
            packageVersion = &quot;0.1-SNAPSHOT&quot;
            description = &quot;Compose Multiplatform App&quot;
            copyright = &quot;© 2024 My Name. All rights reserved.&quot;
            vendor = &quot;Example vendor&quot;
            licenseFile.set(project.file(&quot;LICENSE.txt&quot;))
        }
    }
}
</div></section></section><section class="chapter"><h2 id="managing-resources" data-toc="managing-resources">Managing resources</h2><p id="o4t1b4_302">To package and load resources, you can use the Compose Multiplatform resources library, the JVM resource loading, or add files to packaged applications.</p><section class="chapter"><h3 id="resources-library" data-toc="resources-library">Resources library</h3><p id="o4t1b4_306">The most straightforward way to set up the resources for your project is to use the resources library. With the resources library, you can access resources in common code across all supported platforms. See <a href="compose-multiplatform-resources.html" id="o4t1b4_307">Multiplatform resources</a> for details.</p></section><section class="chapter"><h3 id="jvm-resource-loading" data-toc="jvm-resource-loading">JVM resource loading</h3><p id="o4t1b4_308">Compose Multiplatform for desktop operates on the JVM platform, meaning you can load resources from a <code class="code" id="o4t1b4_309">.jar</code> file using the <code class="code" id="o4t1b4_310">java.lang.Class</code> API. You can access a file in the <code class="code" id="o4t1b4_311">src/main/resources</code> directory via <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Class.html#getResource(java.lang.String)" id="o4t1b4_312" data-external="true" rel="noopener noreferrer"><code class="code" id="o4t1b4_314">Class::getResource</code></a> or <a href="https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)" id="o4t1b4_313" data-external="true" rel="noopener noreferrer"><code class="code" id="o4t1b4_315">Class::getResourceAsStream</code></a>.</p></section><section class="chapter"><h3 id="adding-files-to-packaged-application" data-toc="adding-files-to-packaged-application">Adding files to packaged application</h3><p id="o4t1b4_316">There are scenarios where loading resources from <code class="code" id="o4t1b4_324">.jar</code> files may be less practical, for example, when you have target-specific assets and need to include files only in a macOS package but not in a Windows one.</p><p id="o4t1b4_317">In these cases, you can configure the Gradle plugin to include additional resource files in the installation directory. Specify a root resource directory using the DSL as follows:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        mainClass = &quot;MainKt&quot;
        nativeDistributions {
            targetFormats(TargetFormat.Dmg, TargetFormat.Msi, TargetFormat.Deb)
            packageVersion = &quot;1.0.0&quot;

            appResourcesRootDir.set(project.layout.projectDirectory.dir(&quot;resources&quot;))
        }
    }
}
</div><p id="o4t1b4_319">In the example above, the root resource directory is defined as <code class="code" id="o4t1b4_325">&lt;PROJECT_DIR&gt;/resources</code>.</p><p id="o4t1b4_320">The Gradle plugin will include files from the resources subdirectories as follows:</p><ol class="list _decimal" id="o4t1b4_321" type="1"><li class="list__item" id="o4t1b4_326"><p id="o4t1b4_329"><span class="control" id="o4t1b4_330">Common resources:</span> Files located in <code class="code" id="o4t1b4_331">&lt;RESOURCES_ROOT_DIR&gt;/common</code> will be included in all packages regardless of the target OS or architecture.</p></li><li class="list__item" id="o4t1b4_327"><p id="o4t1b4_332"><span class="control" id="o4t1b4_333">OS-specific resources:</span> Files located in <code class="code" id="o4t1b4_334">&lt;RESOURCES_ROOT_DIR&gt;/&lt;OS_NAME&gt;</code> will be included only in packages built for a specific operating system. Valid values for <code class="code" id="o4t1b4_335">&lt;OS_NAME&gt;</code> are: <code class="code" id="o4t1b4_336">windows</code>, <code class="code" id="o4t1b4_337">macos</code>, and <code class="code" id="o4t1b4_338">linux</code>.</p></li><li class="list__item" id="o4t1b4_328"><p id="o4t1b4_339"><span class="control" id="o4t1b4_340">OS and architecture-specific resources:</span> Files located in <code class="code" id="o4t1b4_341">&lt;RESOURCES_ROOT_DIR&gt;/&lt;OS_NAME&gt;-&lt;ARCH_NAME&gt;</code> will be included only in packages built for a specific combination of operating system and CPU architecture. Valid values for <code class="code" id="o4t1b4_342">&lt;ARCH_NAME&gt;</code> are: <code class="code" id="o4t1b4_343">x64</code> and <code class="code" id="o4t1b4_344">arm64</code>. For example, files in <code class="code" id="o4t1b4_345">&lt;RESOURCES_ROOT_DIR&gt;/macos-arm64</code> will be included in packages intended for Apple Silicon Macs only.</p></li></ol><p id="o4t1b4_322">You can access included resources using the <code class="code" id="o4t1b4_346">compose.application.resources.dir</code> system property:</p><div class="code-block" data-lang="kotlin">
import java.io.File

val resourcesDir = File(System.getProperty(&quot;compose.application.resources.dir&quot;))

fun main() {
    println(resourcesDir.resolve(&quot;resource.txt&quot;).readText())
}
</div></section></section><section class="chapter"><h2 id="custom-source-sets" data-toc="custom-source-sets">Custom source sets</h2><p id="o4t1b4_347">You can rely on default configuration, if you use <code class="code" id="o4t1b4_357">org.jetbrains.kotlin.jvm</code> or <code class="code" id="o4t1b4_358">org.jetbrains.kotlin.multiplatform</code> plugins:</p><ul class="list _bullet" id="o4t1b4_348"><li class="list__item" id="o4t1b4_359"><p>Configuration with <code class="code" id="o4t1b4_361">org.jetbrains.kotlin.jvm</code> includes content from the <code class="code" id="o4t1b4_362">main</code> <a href="https://docs.gradle.org/current/userguide/java_plugin.html#source_sets" id="o4t1b4_363" data-external="true" rel="noopener noreferrer">source set</a>.</p></li><li class="list__item" id="o4t1b4_360"><p>Configuration with <code class="code" id="o4t1b4_364">org.jetbrains.kotlin.multiplatform</code> includes content from a single <a href="multiplatform-dsl-reference.html#targets" id="o4t1b4_365">JVM target</a>. If you define multiple JVM targets, the default configuration is disabled. In this case, you need to configure the plugin manually, or specify a single target (see below).</p></li></ul><p id="o4t1b4_349">If the default configuration is ambiguous or insufficient, you can customize it in several ways:</p><p id="o4t1b4_350">Using a Gradle <a href="https://docs.gradle.org/current/userguide/java_plugin.html#source_sets" id="o4t1b4_366" data-external="true" rel="noopener noreferrer">source set</a>:</p><div class="code-block" data-lang="kotlin">
plugins {
    kotlin(&quot;jvm&quot;)
    id(&quot;org.jetbrains.compose&quot;)
}
val customSourceSet = sourceSets.create(&quot;customSourceSet&quot;)
compose.desktop {
    application {
        from(customSourceSet)
    }
}
</div><p id="o4t1b4_352">Using a Kotlin <a href="multiplatform-dsl-reference.html#targets" id="o4t1b4_367">JVM target</a>:</p><div class="code-block" data-lang="kotlin">
plugins {
    kotlin(&quot;multiplatform&quot;)
    id(&quot;org.jetbrains.compose&quot;)
} 
kotlin {
    jvm(&quot;customJvmTarget&quot;) {}
}
compose.desktop {
    application {
        from(kotlin.targets[&quot;customJvmTarget&quot;])
    }
}
</div><p id="o4t1b4_354">Manually:</p><ul class="list _bullet" id="o4t1b4_355"><li class="list__item" id="o4t1b4_368"><p>Use <code class="code" id="o4t1b4_372">disableDefaultConfiguration</code> to disable the default settings.</p></li><li class="list__item" id="o4t1b4_369"><p>Use <code class="code" id="o4t1b4_373">fromFiles</code> to specify files to include.</p></li><li class="list__item" id="o4t1b4_370"><p>Specify the <code class="code" id="o4t1b4_374">mainJar</code> file property to point to a <code class="code" id="o4t1b4_375">.jar</code> file containing the main class.</p></li><li class="list__item" id="o4t1b4_371"><p>Use <code class="code" id="o4t1b4_376">dependsOn</code> to add task dependencies to all plugin tasks.</p></li></ul><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        disableDefaultConfiguration()
        fromFiles(project.fileTree(&quot;libs/&quot;) { include(&quot;**/*.jar&quot;) })
        mainJar.set(project.file(&quot;main.jar&quot;))
        dependsOn(&quot;mainJarTask&quot;)
    }
}
</div></section><section class="chapter"><h2 id="application-icon" data-toc="application-icon">Application icon</h2><p id="o4t1b4_377">Make sure your app icon is available in the following OS-specific formats:</p><ul class="list _bullet" id="o4t1b4_378"><li class="list__item" id="o4t1b4_380"><p><code class="code" id="o4t1b4_383">.icns</code> for macOS</p></li><li class="list__item" id="o4t1b4_381"><p><code class="code" id="o4t1b4_384">.ico</code> for Windows</p></li><li class="list__item" id="o4t1b4_382"><p><code class="code" id="o4t1b4_385">.png</code> for Linux</p></li></ul><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        nativeDistributions {
            macOS {
                iconFile.set(project.file(&quot;icon.icns&quot;))
            }
            windows {
                iconFile.set(project.file(&quot;icon.ico&quot;))
            }
            linux {
                iconFile.set(project.file(&quot;icon.png&quot;))
            }
        }
    }
}
</div></section><section class="chapter"><h2 id="platform-specific-options" data-toc="platform-specific-options">Platform-specific options</h2><p id="o4t1b4_386">Platform-specific settings can be configured using the corresponding DSL blocks:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        nativeDistributions {
            macOS {
                // Options for macOS
            }
            windows {
                // Options for Windows
            }
            linux {
                // Options for Linux
            }
        }
    }
}
</div><p id="o4t1b4_388">The following table describes all supported platform-specific options. It is <span class="control" id="o4t1b4_390">not recommended</span> to use undocumented properties.</p><div class="table-wrapper"><table class="wide" id="o4t1b4_389"><thead><tr class="ijRowHead" id="o4t1b4_391"><th id="o4t1b4_425"><p>Platform</p></th><th id="o4t1b4_426"><p>Option</p></th><th id="o4t1b4_427" width="500"><p>Description</p></th></tr></thead><tbody><tr id="o4t1b4_392"><td id="o4t1b4_428" rowspan="3"><p>All platforms</p></td><td id="o4t1b4_429"><p><code class="code" id="o4t1b4_431">iconFile.set(File(&quot;PATH_TO_ICON&quot;))</code></p></td><td id="o4t1b4_430"><p>Specifies the path to a platform-specific icon for the application. For details, see the <a href="#application-icon" id="o4t1b4_432">Application icon</a> section.</p></td></tr><tr id="o4t1b4_393"><td id="o4t1b4_433"><p><code class="code" id="o4t1b4_435">packageVersion = &quot;1.0.0&quot;</code></p></td><td id="o4t1b4_434"><p>Sets a platform-specific package version. For details, see the <a href="#package-version" id="o4t1b4_436">Package version</a> section.</p></td></tr><tr id="o4t1b4_394"><td id="o4t1b4_437"><p><code class="code" id="o4t1b4_439">installationPath = &quot;PATH_TO_INST_DIR&quot;</code></p></td><td id="o4t1b4_438"><p>Specifies the absolute or relative path to the default installation directory. On Windows, you can also use <code class="code" id="o4t1b4_440">dirChooser = true</code> to enable customizing the path during installation.</p></td></tr><tr id="o4t1b4_395"><td id="o4t1b4_441" rowspan="8"><p>Linux</p></td><td id="o4t1b4_442"><p><code class="code" id="o4t1b4_444">packageName = &quot;custom-package-name&quot;</code></p></td><td id="o4t1b4_443"><p>Overrides the default application name.</p></td></tr><tr id="o4t1b4_396"><td id="o4t1b4_445"><p><code class="code" id="o4t1b4_447">debMaintainer = &quot;maintainer@example.com&quot;</code></p></td><td id="o4t1b4_446"><p>Specifies the email of the package maintainer.</p></td></tr><tr id="o4t1b4_397"><td id="o4t1b4_448"><p><code class="code" id="o4t1b4_450">menuGroup = &quot;my-example-menu-group&quot;</code></p></td><td id="o4t1b4_449"><p>Defines a menu group for the application.</p></td></tr><tr id="o4t1b4_398"><td id="o4t1b4_451"><p><code class="code" id="o4t1b4_453">appRelease = &quot;1&quot;</code></p></td><td id="o4t1b4_452"><p>Sets a release value for the rpm package or a revision value for the deb package.</p></td></tr><tr id="o4t1b4_399"><td id="o4t1b4_454"><p><code class="code" id="o4t1b4_456">appCategory = &quot;CATEGORY&quot;</code></p></td><td id="o4t1b4_455"><p>Assigns a group value for the rpm package or a section value for the deb package.</p></td></tr><tr id="o4t1b4_400"><td id="o4t1b4_457"><p><code class="code" id="o4t1b4_459">rpmLicenseType = &quot;TYPE_OF_LICENSE&quot;</code></p></td><td id="o4t1b4_458"><p>Indicates the type of license for the rpm package.</p></td></tr><tr id="o4t1b4_401"><td id="o4t1b4_460"><p><code class="code" id="o4t1b4_462">debPackageVersion = &quot;DEB_VERSION&quot;</code></p></td><td id="o4t1b4_461"><p>Sets a deb-specific package version. For details, see the <a href="#package-version" id="o4t1b4_463">Package version</a> section.</p></td></tr><tr id="o4t1b4_402"><td id="o4t1b4_464"><p><code class="code" id="o4t1b4_466">rpmPackageVersion = &quot;RPM_VERSION&quot;</code></p></td><td id="o4t1b4_465"><p>Sets an rpm-specific package version. For details, see the <a href="#package-version" id="o4t1b4_467">Package version</a> section.</p></td></tr><tr id="o4t1b4_403"><td id="o4t1b4_468" rowspan="15"><p>macOS</p></td><td id="o4t1b4_469"><p><code class="code" id="o4t1b4_471">bundleID</code></p></td><td id="o4t1b4_470"><p>Specifies a unique application identifier, which can contain only alphanumeric characters (<code class="code" id="o4t1b4_472">A-Z</code>, <code class="code" id="o4t1b4_473">a-z</code>, <code class="code" id="o4t1b4_474">0-9</code>), hyphen (<code class="code" id="o4t1b4_475">-</code>), and period (<code class="code" id="o4t1b4_476">.</code>). It is recommended to use reverse DNS notation (<code class="code" id="o4t1b4_477">com.mycompany.myapp</code>).</p></td></tr><tr id="o4t1b4_404"><td id="o4t1b4_478"><p><code class="code" id="o4t1b4_480">packageName</code></p></td><td id="o4t1b4_479"><p>The name of the application.</p></td></tr><tr id="o4t1b4_405"><td id="o4t1b4_481"><p><code class="code" id="o4t1b4_483">dockName</code></p></td><td id="o4t1b4_482"><p>The name of the application as displayed in the menu bar, the &quot;About &lt;App&gt;&quot; menu item, and in the dock. Default value is <code class="code" id="o4t1b4_484">packageName</code>.</p></td></tr><tr id="o4t1b4_406"><td id="o4t1b4_485"><p><code class="code" id="o4t1b4_487">minimumSystemVersion</code></p></td><td id="o4t1b4_486"><p>The minimum macOS version required to run the application. For details, see <a href="https://developer.apple.com/documentation/bundleresources/information_property_list/lsminimumsystemversion" id="o4t1b4_488" data-external="true" rel="noopener noreferrer"><code class="code" id="o4t1b4_489">LSMinimumSystemVersion</code></a>.</p></td></tr><tr id="o4t1b4_407"><td id="o4t1b4_490"><p><code class="code" id="o4t1b4_492">signing</code>, <code class="code" id="o4t1b4_493">notarization</code>, <code class="code" id="o4t1b4_494">provisioningProfile</code>, <code class="code" id="o4t1b4_495">runtimeProvisioningProfile</code></p></td><td id="o4t1b4_491"><p>See the <a href="https://github.com/JetBrains/compose-multiplatform/tree/master/tutorials/Signing_and_notarization_on_macOS" id="o4t1b4_496" data-external="true" rel="noopener noreferrer">Signing and notarizing distributions for macOS</a> tutorial.</p></td></tr><tr id="o4t1b4_408"><td id="o4t1b4_497"><p><code class="code" id="o4t1b4_499">appStore = true</code></p></td><td id="o4t1b4_498"><p>Specifies whether to build and sign the app for the Apple App Store. Requires at least JDK 17.</p></td></tr><tr id="o4t1b4_409"><td id="o4t1b4_500"><p><code class="code" id="o4t1b4_502">appCategory</code></p></td><td id="o4t1b4_501"><p>The category of the app for the Apple App Store. When building for the App Store, default value is <code class="code" id="o4t1b4_503">public.app-category.utilities</code>, otherwise it is <code class="code" id="o4t1b4_504">Unknown</code>. See <a href="https://developer.apple.com/documentation/bundleresources/information_property_list/lsapplicationcategorytype" id="o4t1b4_505" data-external="true" rel="noopener noreferrer"><code class="code" id="o4t1b4_506">LSApplicationCategoryType</code></a> for a list of valid categories.</p></td></tr><tr id="o4t1b4_410"><td id="o4t1b4_507"><p><code class="code" id="o4t1b4_509">entitlementsFile.set(File(&quot;PATH_ENT&quot;))</code></p></td><td id="o4t1b4_508"><p>Specifies the path to the file containing entitlements used when signing. When you provide a custom file, make sure to add the entitlements required for Java applications. See <a href="https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/macosx/classes/jdk/jpackage/internal/resources/sandbox.plist" id="o4t1b4_510" data-external="true" rel="noopener noreferrer">sandbox.plist</a> for the default file used when building for the App Store. Note that this default file may differ depending on your JDK version. If no file is specified, the plugin will use the default entitlements provided by <code class="code" id="o4t1b4_511">jpackage</code>. For details, see the <a href="https://github.com/JetBrains/compose-multiplatform/tree/master/tutorials/Signing_and_notarization_on_macOS" id="o4t1b4_512" data-external="true" rel="noopener noreferrer">Signing and notarizing distributions for macOS</a> tutorial.</p></td></tr><tr id="o4t1b4_411"><td id="o4t1b4_513"><p><code class="code" id="o4t1b4_515">runtimeEntitlementsFile.set(File(&quot;PATH_R_ENT&quot;))</code></p></td><td id="o4t1b4_514"><p>Specifies the path to the file containing entitlements used when signing the JVM runtime. When you provide a custom file, make sure to add the entitlements required for Java applications. See <a href="https://github.com/openjdk/jdk/blob/master/src/jdk.jpackage/macosx/classes/jdk/jpackage/internal/resources/sandbox.plist" id="o4t1b4_516" data-external="true" rel="noopener noreferrer">sandbox.plist</a> for the default file used when building for the App Store. Note that this default file may differ depending on your JDK version. If no file is specified, the plugin will use the default entitlements provided by <code class="code" id="o4t1b4_517">jpackage</code>. For details, see the <a href="https://github.com/JetBrains/compose-multiplatform/tree/master/tutorials/Signing_and_notarization_on_macOS" id="o4t1b4_518" data-external="true" rel="noopener noreferrer">Signing and notarizing distributions for macOS</a> tutorial.</p></td></tr><tr id="o4t1b4_412"><td id="o4t1b4_519"><p><code class="code" id="o4t1b4_521">dmgPackageVersion = &quot;DMG_VERSION&quot;</code></p></td><td id="o4t1b4_520"><p>Sets the DMG-specific package version. For details, see the <a href="#package-version" id="o4t1b4_522">Package version</a> section.</p></td></tr><tr id="o4t1b4_413"><td id="o4t1b4_523"><p><code class="code" id="o4t1b4_525">pkgPackageVersion = &quot;PKG_VERSION&quot;</code></p></td><td id="o4t1b4_524"><p>Sets the PKG-specific package version. For details, see the <a href="#package-version" id="o4t1b4_526">Package version</a> section.</p></td></tr><tr id="o4t1b4_414"><td id="o4t1b4_527"><p><code class="code" id="o4t1b4_529">packageBuildVersion = &quot;DMG_VERSION&quot;</code></p></td><td id="o4t1b4_528"><p>Sets the package build version. For details, see the <a href="#package-version" id="o4t1b4_530">Package version</a> section.</p></td></tr><tr id="o4t1b4_415"><td id="o4t1b4_531"><p><code class="code" id="o4t1b4_533">dmgPackageBuildVersion = &quot;DMG_VERSION&quot;</code></p></td><td id="o4t1b4_532"><p>Sets the DMG-specific package build version. For details, see the <a href="#package-version" id="o4t1b4_534">Package version</a> section.</p></td></tr><tr id="o4t1b4_416"><td id="o4t1b4_535"><p><code class="code" id="o4t1b4_537">pkgPackageBuildVersion = &quot;PKG_VERSION&quot;</code></p></td><td id="o4t1b4_536"><p>Sets the PKG-specific package build version. For details, see the <a href="#package-version" id="o4t1b4_538">Package version</a> section.</p></td></tr><tr id="o4t1b4_417"><td id="o4t1b4_539"><p><code class="code" id="o4t1b4_541">infoPlist</code></p></td><td id="o4t1b4_540"><p>See the <a href="#information-property-list-on-macos" id="o4t1b4_542"><code class="code" id="o4t1b4_543">Info.plist</code> on macOS</a> section.</p></td></tr><tr id="o4t1b4_418"><td id="o4t1b4_544" rowspan="7"><p>Windows</p></td><td id="o4t1b4_545"><p><code class="code" id="o4t1b4_547">console = true</code></p></td><td id="o4t1b4_546"><p>Adds a console launcher for the application.</p></td></tr><tr id="o4t1b4_419"><td id="o4t1b4_548"><p><code class="code" id="o4t1b4_550">dirChooser = true</code></p></td><td id="o4t1b4_549"><p>Enables customizing the installation path during installation.</p></td></tr><tr id="o4t1b4_420"><td id="o4t1b4_551"><p><code class="code" id="o4t1b4_553">perUserInstall = true</code></p></td><td id="o4t1b4_552"><p>Enables installing the application on a per-user basis.</p></td></tr><tr id="o4t1b4_421"><td id="o4t1b4_554"><p><code class="code" id="o4t1b4_556">menuGroup = &quot;start-menu-group&quot;</code></p></td><td id="o4t1b4_555"><p>Adds the application to the specified Start menu group.</p></td></tr><tr id="o4t1b4_422"><td id="o4t1b4_557"><p><code class="code" id="o4t1b4_559">upgradeUuid = &quot;UUID&quot;</code></p></td><td id="o4t1b4_558"><p>Specifies a unique ID which enables users to update the application via the installer, when there is a version newer than an installed version. The value must remain constant for a single application. For details, see <a href="https://wixtoolset.org/documentation/manual/v3/howtos/general/generate_guids.html" id="o4t1b4_560" data-external="true" rel="noopener noreferrer">How To: Generate a GUID</a>.</p></td></tr><tr id="o4t1b4_423"><td id="o4t1b4_561"><p><code class="code" id="o4t1b4_563">msiPackageVersion = &quot;MSI_VERSION&quot;</code></p></td><td id="o4t1b4_562"><p>Sets the MSI-specific package version. For details, see the <a href="#package-version" id="o4t1b4_564">Package version</a> section.</p></td></tr><tr id="o4t1b4_424"><td id="o4t1b4_565"><p><code class="code" id="o4t1b4_567">exePackageVersion = &quot;EXE_VERSION&quot;</code></p></td><td id="o4t1b4_566"><p>Sets the EXE-specific package version. For details, see the <a href="#package-version" id="o4t1b4_568">Package version</a> section.</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="macos-specific-configuration" data-toc="macos-specific-configuration">macOS-specific configuration</h2><section class="chapter"><h3 id="signing-and-notarization-on-macos" data-toc="signing-and-notarization-on-macos">Signing and notarization on macOS</h3><p id="o4t1b4_571">Modern macOS versions do not permit users to execute unsigned applications downloaded from the internet. If you attempt to run such an application, you'll encounter the following error: &quot;YourApp is damaged and can't be open. You should eject the disk image&quot;.</p><p id="o4t1b4_572">To learn how to sign and notarize your application, see our <a href="https://github.com/JetBrains/compose-multiplatform/blob/master/tutorials/Signing_and_notarization_on_macOS/README.md" id="o4t1b4_573" data-external="true" rel="noopener noreferrer">tutorial</a>.</p></section><section class="chapter"><h3 id="information-property-list-on-macos" data-toc="information-property-list-on-macos">Information property list on macOS</h3><p id="o4t1b4_574">While the DSL supports essential platform-specific customizations, there can still be cases beyond the provided capabilities. If you need to specify <code class="code" id="o4t1b4_576">Info.plist</code> values that are not represented in the DSL, you can include a snippet of raw XML as a workaround. This XML will be appended to the application's <code class="code" id="o4t1b4_577">Info.plist</code>.</p><section class="chapter"><h4 id="example-deep-linking" data-toc="example-deep-linking">Example: Deep linking</h4><ol class="list _decimal" id="o4t1b4_578" type="1"><li class="list__item" id="o4t1b4_584"><p>Define a custom URL scheme in the <code class="code" id="o4t1b4_585">build.gradle.kts</code> file:</p></li></ol><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="infoPlist { extraKeysRawXml = macExtraPlistKeys">
compose.desktop {
    application {
        mainClass = &quot;MainKt&quot;
        nativeDistributions {
            targetFormats(TargetFormat.Dmg)
            packageName = &quot;Deep Linking Example App&quot;
            macOS {
                bundleID = &quot;org.jetbrains.compose.examples.deeplinking&quot;
                infoPlist {
                    extraKeysRawXml = macExtraPlistKeys
                }
            }
        }
    }
}

val macExtraPlistKeys: String
    get() = &quot;&quot;&quot;
      &lt;key&gt;CFBundleURLTypes&lt;/key&gt;
      &lt;array&gt;
        &lt;dict&gt;
          &lt;key&gt;CFBundleURLName&lt;/key&gt;
          &lt;string&gt;Example deep link&lt;/string&gt;
          &lt;key&gt;CFBundleURLSchemes&lt;/key&gt;
          &lt;array&gt;
            &lt;string&gt;compose&lt;/string&gt;
          &lt;/array&gt;
        &lt;/dict&gt;
      &lt;/array&gt;
    &quot;&quot;&quot;
</div><ol class="list _decimal" id="o4t1b4_580" type="1" start="2"><li class="list__item" id="o4t1b4_586"><p>Use the <code class="code" id="o4t1b4_587">java.awt.Desktop</code> class to set up a URI handler in the <code class="code" id="o4t1b4_588">src/main/main.kt</code> file:</p></li></ol><div class="code-collapse" data-lang="kotlin" data-is-expanded="false" data-synopsis="Desktop.getDesktop().setOpenURIHandler { event -&gt;">
import androidx.compose.material.MaterialTheme
import androidx.compose.material.Text
import androidx.compose.runtime.getValue
import androidx.compose.runtime.mutableStateOf
import androidx.compose.runtime.setValue
import androidx.compose.ui.window.singleWindowApplication
import java.awt.Desktop

fun main() {
    var text by mutableStateOf(&quot;Hello, World!&quot;)

    try {
        Desktop.getDesktop().setOpenURIHandler { event -&gt;
            text = &quot;Open URI: &quot; + event.uri
        }
    } catch (e: UnsupportedOperationException) {
        println(&quot;setOpenURIHandler is unsupported&quot;)
    }

    singleWindowApplication {
        MaterialTheme {
            Text(text)
        }
    }
}
</div><ol class="list _decimal" id="o4t1b4_582" type="1" start="3"><li class="list__item" id="o4t1b4_589"><p>Execute the <code class="code" id="o4t1b4_590">runDistributable</code> task: <code class="code" id="o4t1b4_591">./gradlew runDistributable</code>.</p></li></ol><p id="o4t1b4_583">As a result, links like <code class="code" id="o4t1b4_592">compose://foo/bar</code> can now be redirected from a browser to your application.</p></section></section></section><section class="chapter"><h2 id="minification-and-obfuscation" data-toc="minification-and-obfuscation">Minification and obfuscation</h2><p id="o4t1b4_593">The Compose Multiplatform Gradle plugin includes built-in support for <a href="https://www.guardsquare.com/proguard" id="o4t1b4_608" data-external="true" rel="noopener noreferrer">ProGuard</a>. ProGuard is an <a href="https://github.com/Guardsquare/proguard" id="o4t1b4_609" data-external="true" rel="noopener noreferrer">open-source tool</a> for code minification and obfuscation.</p><p id="o4t1b4_594">For each <span class="emphasis" id="o4t1b4_610">default</span> (without ProGuard) packaging task, the Gradle plugin provides a <span class="emphasis" id="o4t1b4_611">release</span> task (with ProGuard):</p><div class="table-wrapper"><table class="wide" id="o4t1b4_595"><thead><tr class="ijRowHead" id="o4t1b4_612"><th id="o4t1b4_621" width="400"><p>Gradle task</p></th><th id="o4t1b4_622"><p>Description</p></th></tr></thead><tbody><tr id="o4t1b4_613"><td id="o4t1b4_623"><p id="o4t1b4_625">Default: <code class="code" id="o4t1b4_627">createDistributable</code></p><p id="o4t1b4_626">Release: <code class="code" id="o4t1b4_628">createReleaseDistributable</code></p></td><td id="o4t1b4_624"><p>Creates an application image with bundled JDK and resources.</p></td></tr><tr id="o4t1b4_614"><td id="o4t1b4_629"><p id="o4t1b4_631">Default: <code class="code" id="o4t1b4_633">runDistributable</code></p><p id="o4t1b4_632">Release: <code class="code" id="o4t1b4_634">runReleaseDistributable</code></p></td><td id="o4t1b4_630"><p>Runs an application image with bundled JDK and resources.</p></td></tr><tr id="o4t1b4_615"><td id="o4t1b4_635"><p id="o4t1b4_637">Default: <code class="code" id="o4t1b4_639">run</code></p><p id="o4t1b4_638">Release: <code class="code" id="o4t1b4_640">runRelease</code></p></td><td id="o4t1b4_636"><p>Runs a non-packaged application <code class="code" id="o4t1b4_641">.jar</code> using the Gradle JDK.</p></td></tr><tr id="o4t1b4_616"><td id="o4t1b4_642"><p id="o4t1b4_644">Default: <code class="code" id="o4t1b4_646">package&lt;FORMAT_NAME&gt;</code></p><p id="o4t1b4_645">Release: <code class="code" id="o4t1b4_647">packageRelease&lt;FORMAT_NAME&gt;</code></p></td><td id="o4t1b4_643"><p>Packages an application image into a <code class="code" id="o4t1b4_648">&lt;FORMAT_NAME&gt;</code> file.</p></td></tr><tr id="o4t1b4_617"><td id="o4t1b4_649"><p id="o4t1b4_651">Default: <code class="code" id="o4t1b4_653">packageDistributionForCurrentOS</code></p><p id="o4t1b4_652">Release: <code class="code" id="o4t1b4_654">packageReleaseDistributionForCurrentOS</code></p></td><td id="o4t1b4_650"><p>Packages an application image into a format compatible with the current OS.</p></td></tr><tr id="o4t1b4_618"><td id="o4t1b4_655"><p id="o4t1b4_657">Default: <code class="code" id="o4t1b4_659">packageUberJarForCurrentOS</code></p><p id="o4t1b4_658">Release: <code class="code" id="o4t1b4_660">packageReleaseUberJarForCurrentOS</code></p></td><td id="o4t1b4_656"><p>Packages an application image into an uber (fat) `.jar`.</p></td></tr><tr id="o4t1b4_619"><td id="o4t1b4_661"><p id="o4t1b4_663">Default: <code class="code" id="o4t1b4_665">notarize&lt;FORMAT_NAME&gt;</code></p><p id="o4t1b4_664">Release: <code class="code" id="o4t1b4_666">notarizeRelease&lt;FORMAT_NAME&gt;</code></p></td><td id="o4t1b4_662"><p>Uploads a <code class="code" id="o4t1b4_667">&lt;FORMAT_NAME&gt;</code> application image for notarization (macOS only).</p></td></tr><tr id="o4t1b4_620"><td id="o4t1b4_668"><p id="o4t1b4_670">Default: <code class="code" id="o4t1b4_672">checkNotarizationStatus</code></p><p id="o4t1b4_671">Release: <code class="code" id="o4t1b4_673">checkReleaseNotarizationStatus</code></p></td><td id="o4t1b4_669"><p>Checks if notarization succeeded (macOS only).</p></td></tr></tbody></table></div><p id="o4t1b4_596">The default configuration enables some pre-defined ProGuard rules:</p><ul class="list _bullet" id="o4t1b4_597"><li class="list__item" id="o4t1b4_674"><p>The application image is minified, meaning unused classes are removed.</p></li><li class="list__item" id="o4t1b4_675"><p><code class="code" id="o4t1b4_677">compose.desktop.application.mainClass</code> is used as the entry point.</p></li><li class="list__item" id="o4t1b4_676"><p>Several <code class="code" id="o4t1b4_678">keep</code> rules are included to ensure the Compose runtime remains functional.</p></li></ul><p id="o4t1b4_598">In most cases, you don't need any additional configurations to get a minified application. However, ProGuard might not track certain usages in bytecode, for example, when a class is used via reflection. If you encounter issues that occur only after ProGuard processing, you may need to add custom rules.</p><p id="o4t1b4_599">To specify a custom configuration file, use the DSL as follows:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        buildTypes.release.proguard {
            configurationFiles.from(project.file(&quot;compose-desktop.pro&quot;))
        }
    }
}
</div><p id="o4t1b4_601">For more information about ProGuard rules and configuration options, refer to the Guardsquare <a href="https://www.guardsquare.com/manual/configuration/usage" id="o4t1b4_679" data-external="true" rel="noopener noreferrer">manual</a>.</p><p id="o4t1b4_602">Obfuscation is disabled by default. To enable it, set the following property via the Gradle DSL:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        buildTypes.release.proguard {
            obfuscate.set(true)
        }
    }
}
</div><p id="o4t1b4_604">ProGuard's optimizations are enabled by default. To disable them, set the following property via the Gradle DSL:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        buildTypes.release.proguard {
            optimize.set(false)
        }
    }
}
</div><p id="o4t1b4_606">Producing an uber JAR is disabled by default, and ProGuard produces a corresponding <code class="code" id="o4t1b4_680">.jar</code> file for every input <code class="code" id="o4t1b4_681">.jar</code>. To enable it, set the following property via the Gradle DSL:</p><div class="code-block" data-lang="kotlin">
compose.desktop {
    application {
        buildTypes.release.proguard {
            joinOutputJars.set(true)
        }
    }
}
</div></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2><p id="o4t1b4_682">Explore the tutorials about <a href="https://github.com/JetBrains/compose-multiplatform/tree/master/tutorials#desktop" id="o4t1b4_683" data-external="true" rel="noopener noreferrer">desktop components</a>.</p></section><div class="last-modified">Last modified: 04 June 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="compose-desktop-keyboard.html" class="navigation-links__prev">Keyboard events</a><a href="compose-desktop-accessibility.html" class="navigation-links__next">Support for desktop accessibility features</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.js"></script></body></html>