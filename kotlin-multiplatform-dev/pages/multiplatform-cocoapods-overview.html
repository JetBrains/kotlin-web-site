<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-25T13:01:22.879201081"><meta name="build-number" content="637"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>CocoaPods overview and setup | Kotlin Multiplatform Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"set-up-an-environment-to-work-with-cocoapods","level":0,"title":"Set up an environment to work with CocoaPods","anchor":"#set-up-an-environment-to-work-with-cocoapods"},{"id":"create-a-project","level":0,"title":"Create a project","anchor":"#create-a-project"},{"id":"configure-the-project","level":0,"title":"Configure the project","anchor":"#configure-the-project"},{"id":"update-podfile-for-xcode","level":0,"title":"Update Podfile for Xcode","anchor":"#update-podfile-for-xcode"},{"id":"possible-issues-and-solutions","level":0,"title":"Possible issues and solutions","anchor":"#possible-issues-and-solutions"},{"id":"what-s-next","level":0,"title":"What\u0027s next","anchor":"#what-s-next"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><link rel="icon" type="image/x-icon" sizes="16x16" href="https://resources.jetbrains.com/storage/ui/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-57x57.png"><link rel="icon" type="image/png" sizes="96x96" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-60x60.png"><link rel="icon" type="image/png" sizes="300x300" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-72x72.png"><link rel="icon" type="image/png" sizes="500x500" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-76x76.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="CocoaPods overview and setup | Kotlin Multiplatform"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><meta property="og:site_name" content="Kotlin Multiplatform Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="CocoaPods overview and setup | Kotlin Multiplatform"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html#webpage",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-cocoapods-overview.html",
    "name": "CocoaPods overview and setup | Kotlin Multiplatform",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/#website",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/",
    "name": "Kotlin Multiplatform Help"
}</script><!-- End Schema.org --><meta name="msapplication-TileColor" content="#000000"/>
<meta name="msapplication-TileImage"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/>
<meta name="msapplication-square70x70logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/>
<meta name="msapplication-square150x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/>
<meta name="msapplication-wide310x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/>
<meta name="msapplication-square310x310logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>
<script>document.cookie="wh_theme=light;expires="+(new Date(Date.now()+500000000).toUTCString())+"; path=/;";</script>
<style>
<!--slack icon-->
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]{position:relative;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"] svg{visibility:hidden;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]::before{
display:block;content:"";position:absolute;top:0;bottom:0;left:0;right:0;
background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23fff"><path d="M9.586 6.601h1.9v-1.9a1.837 1.837 0 00-1.9-1.9 1.9 1.9 0 000 3.8zm1.9 7.6v4.7a1.837 1.837 0 01-1.9 1.9 1.9 1.9 0 01-1.9-1.9v-4.7a1.899 1.899 0 011.9-1.9 1.837 1.837 0 011.9 1.9zm-5.864 1.773a1.839 1.839 0 01-.737.127 1.9 1.9 0 010-3.8h1.9v1.9a1.839 1.839 0 01-1.163 1.773zm3.963-4.673h-4.7a1.9 1.9 0 010-3.8h4.7a1.838 1.838 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9zm11.4-1.9a1.967 1.967 0 00-1.9-1.9 1.899 1.899 0 00-1.9 1.9v1.9h1.9a1.9 1.9 0 001.9-1.9zm-5.862 1.773a1.839 1.839 0 01-.738.127 1.9 1.9 0 01-1.9-1.9v-4.7a1.839 1.839 0 011.9-1.9 1.898 1.898 0 011.9 1.9v4.7a1.837 1.837 0 01-1.162 1.773zm-.738 9.628a1.839 1.839 0 001.9-1.9 1.9 1.9 0 00-1.9-1.9h-1.9v1.9a1.899 1.899 0 001.9 1.9zm4.7-4.7h-4.7a1.9 1.9 0 110-3.8h4.7a1.836 1.836 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9z"/></svg>') no-repeat center;background-size:20px 20px;}
[data-test="footer-socials"]+.jb-footer__legal{flex-basis:100%;margin-top:8px;}

<!--Drop any switches and set default theme-->
.wh-header__switchers{display:none!important}
</style></head><body data-id="multiplatform-cocoapods-overview" data-main-title="CocoaPods overview and setup" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Set up iOS integration///CocoaPods integration" data-edit-url="https://github.com/JetBrains/kotlin-multiplatform-dev-docs/edit/master/topics/development/multiplatform-cocoapods-overview.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin Multiplatform  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="multiplatform-cocoapods-overview" id="multiplatform-cocoapods-overview.md">CocoaPods overview and setup</h1><div class="micro-format" data-content="{&quot;microFormat&quot;:[&quot;\u003cp id\u003d\&quot;z2i380r_304\&quot;\u003eThis is a local integration method. It can work for you if:\u003c/p\u003e&quot;,&quot;\u003cbr\u003e&quot;,&quot;\u003cul class\u003d\&quot;list _bullet\&quot; id\u003d\&quot;z2i380r_13\&quot;\u003e\u003cli class\u003d\&quot;list__item\&quot; id\u003d\&quot;z2i380r_15\&quot;\u003e\u003cp\u003eYou have a mono repository setup with an iOS project that uses CocoaPods.\u003c/p\u003e\u003c/li\u003e\u003cli class\u003d\&quot;list__item\&quot; id\u003d\&quot;z2i380r_16\&quot;\u003e\u003cp\u003eYour Kotlin Multiplatform project has CocoaPods dependencies. \u003c/p\u003e\u003cbr\u003e\u003c/li\u003e\u003c/ul\u003e&quot;,&quot;\u003cp id\u003d\&quot;z2i380r_14\&quot;\u003e\u003ca href\u003d\&quot;multiplatform-ios-integration-overview.html\&quot; id\u003d\&quot;z2i380r_18\&quot;\u003eChoose the integration method that suits you best\u003c/a\u003e\u003c/p\u003e&quot;]}"></div><p id="z2i380r_3">Kotlin/Native provides integration with the <a href="https://cocoapods.org/" id="z2i380r_19" data-external="true" rel="noopener noreferrer">CocoaPods dependency manager</a>. You can add dependencies on Pod libraries as well as use a Kotlin project as a CocoaPods dependency.</p><p id="z2i380r_4">You can manage Pod dependencies directly in IntelliJ IDEA or Android Studio and enjoy all the additional features such as code highlighting and completion. You can build an entire Kotlin project with Gradle without switching to Xcode.</p><p id="z2i380r_5">You only need Xcode if you want to change Swift/Objective-C code or run your application on an Apple simulator or device. To work with Xcode, <a href="#update-podfile-for-xcode" id="z2i380r_20">update your Podfile</a> first.</p><section class="chapter"><h2 id="set-up-an-environment-to-work-with-cocoapods" data-toc="set-up-an-environment-to-work-with-cocoapods">Set up an environment to work with CocoaPods</h2><p id="z2i380r_21">Install the <a href="https://cocoapods.org/" id="z2i380r_24" data-external="true" rel="noopener noreferrer">CocoaPods dependency manager</a> using the installation tool of your choice:</p><div class="tabs" id="z2i380r_22" data-anchors="[z2i380r_25,z2i380r_26,z2i380r_27,z2i380r_28]"><div class="tabs__content" data-gtm="tab" id="z2i380r_25" data-title="RVM"><ol class="list _decimal" id="z2i380r_29" type="1"><li class="list__item" id="z2i380r_30"><p id="z2i380r_33">Install <a href="https://rvm.io/rvm/install" id="z2i380r_34" data-external="true" rel="noopener noreferrer">RVM</a> in case you don't have it yet.</p></li><li class="list__item" id="z2i380r_31"><p id="z2i380r_35">Install Ruby. You can choose a specific version:</p><div class="code-block" data-lang="bash">
rvm install ruby 3.0.0
</div></li><li class="list__item" id="z2i380r_32"><p id="z2i380r_37">Install CocoaPods:</p><div class="code-block" data-lang="bash">
sudo gem install -n /usr/local/bin cocoapods
</div></li></ol></div><div class="tabs__content" data-gtm="tab" id="z2i380r_26" data-title="Rbenv"><ol class="list _decimal" id="z2i380r_39" type="1"><li class="list__item" id="z2i380r_40"><p id="z2i380r_44">Install <a href="https://github.com/rbenv/rbenv#installation" id="z2i380r_45" data-external="true" rel="noopener noreferrer">rbenv from GitHub</a> in case you don't have it yet.</p></li><li class="list__item" id="z2i380r_41"><p id="z2i380r_46">Install Ruby. You can choose a specific version:</p><div class="code-block" data-lang="bash">
rbenv install 3.0.0
</div></li><li class="list__item" id="z2i380r_42"><p id="z2i380r_48">Set the Ruby version as local for a particular directory or global for the whole machine:</p><div class="code-block" data-lang="bash">
rbenv global 3.0.0
</div></li><li class="list__item" id="z2i380r_43"><p id="z2i380r_50">Install CocoaPods:</p><div class="code-block" data-lang="bash">
sudo gem install -n /usr/local/bin cocoapods
</div></li></ol></div><div class="tabs__content" data-gtm="tab" id="z2i380r_27" data-title="Default Ruby"><aside class="prompt" data-type="note" data-title="" id="z2i380r_52"><p id="z2i380r_55">This way of installation doesn't work on devices with Apple M chips. Use other tools to set up an environment to work with CocoaPods.</p></aside><p id="z2i380r_53">You can install the CocoaPods dependency manager with the default Ruby that should be available on macOS:</p><div class="code-block" data-lang="bash" data-title="Bash">
sudo gem install cocoapods
</div></div><div class="tabs__content" data-gtm="tab" id="z2i380r_28" data-title="Homebrew"><aside class="prompt" data-type="warning" data-title="" id="z2i380r_56"><p id="z2i380r_58">The CocoaPods installation with Homebrew might result in compatibility issues.</p><p id="z2i380r_59">When installing CocoaPods, Homebrew also installs the <a href="https://github.com/CocoaPods/Xcodeproj" id="z2i380r_60" data-external="true" rel="noopener noreferrer">Xcodeproj</a> gem that is necessary for working with Xcode. However, it cannot be updated with Homebrew, and if the installed Xcodeproj doesn't support the newest Xcode version yet, you'll get errors with Pod installation. If this is the case, try other tools to install CocoaPods.</p></aside><ol class="list _decimal" id="z2i380r_57" type="1"><li class="list__item" id="z2i380r_61"><p id="z2i380r_63">Install <a href="https://brew.sh/" id="z2i380r_64" data-external="true" rel="noopener noreferrer">Homebrew</a> in case you don't have it yet.</p></li><li class="list__item" id="z2i380r_62"><p id="z2i380r_65">Install CocoaPods:</p><div class="code-block" data-lang="bash">
brew install cocoapods
</div></li></ol></div></div><p id="z2i380r_23">If you encounter problems during the installation, check the <a href="#possible-issues-and-solutions" id="z2i380r_67">Possible issues and solutions</a> section.</p></section><section class="chapter"><h2 id="create-a-project" data-toc="create-a-project">Create a project</h2><p id="z2i380r_68">When your environment is set up, you can create a new Kotlin Multiplatform project. For that, use the Kotlin Multiplatform web wizard or the Kotlin Multiplatform plugin for Android Studio.</p><section class="chapter"><h3 id="using-web-wizard" data-toc="using-web-wizard">Using web wizard</h3><p id="z2i380r_71">To create a project using the web wizard and configure the CocoaPods integration:</p><ol class="list _decimal" id="z2i380r_72" type="1"><li class="list__item" id="z2i380r_74"><p id="z2i380r_81">Open the <a href="https://kmp.jetbrains.com" id="z2i380r_82" data-external="true" rel="noopener noreferrer">Kotlin Multiplatform wizard</a> and select target platforms for your project.</p></li><li class="list__item" id="z2i380r_75"><p id="z2i380r_83">Click the <span class="control" id="z2i380r_84">Download</span> button and unpack the downloaded archive.</p></li><li class="list__item" id="z2i380r_76"><p id="z2i380r_85">In Android Studio, select <span class="control" id="z2i380r_86">File | Open</span> in the menu.</p></li><li class="list__item" id="z2i380r_77"><p id="z2i380r_87">Navigate to the unpacked project folder and then click <span class="control" id="z2i380r_88">Open</span>.</p></li><li class="list__item" id="z2i380r_78"><p id="z2i380r_89">Add the Kotlin CocoaPods Gradle plugin to the version catalog. In the <code class="code" id="z2i380r_91">gradle/libs.versions.toml</code> file, add the following declaration to the <code class="code" id="z2i380r_92">[plugins]</code> block:</p><div class="code-block" data-lang="plaintext">
kotlinCocoapods = { id = &quot;org.jetbrains.kotlin.native.cocoapods&quot;, version.ref = &quot;kotlin&quot; }
</div></li><li class="list__item" id="z2i380r_79"><p id="z2i380r_93">Navigate to the root <code class="code" id="z2i380r_95">build.gradle.kts</code> file of your project and add the following alias to the <code class="code" id="z2i380r_96">plugins {}</code> block:</p><div class="code-block" data-lang="kotlin">
alias(libs.plugins.kotlinCocoapods) apply false
</div></li><li class="list__item" id="z2i380r_80"><p id="z2i380r_97">Open the module where you want to integrate CocoaPods, for example the <code class="code" id="z2i380r_99">composeApp</code> module, and add the following alias to the <code class="code" id="z2i380r_100">plugins {}</code> block:</p><div class="code-block" data-lang="kotlin">
alias(libs.plugins.kotlinCocoapods)
</div></li></ol><p id="z2i380r_73">Now you are ready to <a href="#configure-the-project" id="z2i380r_101">configure CocoaPods in your Kotlin Multiplatform project</a>.</p></section><section class="chapter"><h3 id="in-android-studio" data-toc="in-android-studio">In Android Studio</h3><p id="z2i380r_102">To create a project in Android Studio with the CocoaPods integration:</p><ol class="list _decimal" id="z2i380r_103" type="1"><li class="list__item" id="z2i380r_104"><p id="z2i380r_110">Install the <a href="https://plugins.jetbrains.com/plugin/14936-kotlin-multiplatform" id="z2i380r_111" data-external="true" rel="noopener noreferrer">Kotlin Multiplatform plugin</a> to Android Studio.</p></li><li class="list__item" id="z2i380r_105"><p id="z2i380r_112">In Android Studio, select <span class="control" id="z2i380r_113">File</span> | <span class="control" id="z2i380r_114">New</span> | <span class="control" id="z2i380r_115">New Project</span> in the menu.</p></li><li class="list__item" id="z2i380r_106"><p id="z2i380r_116">In the list of project templates, select <span class="control" id="z2i380r_117">Kotlin Multiplatform App</span> and then click <span class="control" id="z2i380r_118">Next</span>.</p></li><li class="list__item" id="z2i380r_107"><p id="z2i380r_119">Name your application and click <span class="control" id="z2i380r_120">Next</span>.</p></li><li class="list__item" id="z2i380r_108"><p id="z2i380r_121">Choose <span class="control" id="z2i380r_123">CocoaPods Dependency Manager</span> as the iOS framework distribution option.</p><figure id="z2i380r_122"><img alt="Android Studio wizard with the Kotlin Multiplatform plugin" src="https://resources.jetbrains.com/help/img/kotlin-multiplatform-dev/as-project-wizard.png" title="Android Studio wizard with the Kotlin Multiplatform plugin" width="700" height="530"></figure></li><li class="list__item" id="z2i380r_109"><p id="z2i380r_124">Keep all other options default. Click <span class="control" id="z2i380r_126">Finish</span>.</p><p id="z2i380r_125">The plugin will automatically generate the project with the CocoaPods integration set up.</p></li></ol></section></section><section class="chapter"><h2 id="configure-the-project" data-toc="configure-the-project">Configure the project</h2><p id="z2i380r_127">To configure the Kotlin CocoaPods Gradle plugin in your multiplatform project:</p><ol class="list _decimal" id="z2i380r_128" type="1"><li class="list__item" id="z2i380r_132"><p id="z2i380r_136">In the shared module's <code class="code" id="z2i380r_139">build.gradle(.kts)</code> of your project, apply the CocoaPods plugin as well as the Kotlin Multiplatform plugin.</p><aside class="prompt" data-type="note" data-title="" id="z2i380r_137"><p id="z2i380r_140">Skip this step if you've created your project with the <a href="#using-web-wizard" id="z2i380r_141">web wizard</a> or the <a href="#in-android-studio" id="z2i380r_142">Kotlin Multiplatform plugin for Android Studio</a>.</p></aside><div class="code-block" data-lang="kotlin">
plugins {
    kotlin(&quot;multiplatform&quot;) version &quot;2.2.0&quot;
    kotlin(&quot;native.cocoapods&quot;) version &quot;2.2.0&quot;
}
</div></li><li class="list__item" id="z2i380r_133"><p id="z2i380r_143">Configure <code class="code" id="z2i380r_146">version</code>, <code class="code" id="z2i380r_147">summary</code>, <code class="code" id="z2i380r_148">homepage</code>, and <code class="code" id="z2i380r_149">baseName</code> of the Podspec file in the <code class="code" id="z2i380r_150">cocoapods</code> block:</p><div class="code-block" data-lang="kotlin">
plugins {
    kotlin(&quot;multiplatform&quot;) version &quot;2.2.0&quot;
    kotlin(&quot;native.cocoapods&quot;) version &quot;2.2.0&quot;
}

kotlin {
    cocoapods {
        // Required properties
        // Specify the required Pod version here
        // Otherwise, the Gradle project version is used
        version = &quot;1.0&quot;
        summary = &quot;Some description for a Kotlin/Native module&quot;
        homepage = &quot;Link to a Kotlin/Native module homepage&quot;

        // Optional properties
        // Configure the Pod name here instead of changing the Gradle project name
        name = &quot;MyCocoaPod&quot;

        framework {
            // Required properties              
            // Framework name configuration. Use this property instead of deprecated 'frameworkName'
            baseName = &quot;MyFramework&quot;

            // Optional properties
            // Specify the framework linking type. It's dynamic by default. 
            isStatic = false
            // Dependency export
            // Uncomment and specify another project module if you have one:
            // export(project(&quot;:&lt;your other KMP module&gt;&quot;))
            transitiveExport = false // This is default.
        }

        // Maps custom Xcode configuration to NativeBuildType
        xcodeConfigurationToNativeBuildType[&quot;CUSTOM_DEBUG&quot;] = NativeBuildType.DEBUG
        xcodeConfigurationToNativeBuildType[&quot;CUSTOM_RELEASE&quot;] = NativeBuildType.RELEASE
    }
}
</div><aside class="prompt" data-type="note" data-title="" id="z2i380r_145"><p id="z2i380r_151">See the full syntax of Kotlin DSL in the <a href="https://github.com/JetBrains/kotlin/blob/master/libraries/tools/kotlin-gradle-plugin/src/common/kotlin/org/jetbrains/kotlin/gradle/targets/native/cocoapods/CocoapodsExtension.kt" id="z2i380r_152" data-external="true" rel="noopener noreferrer">Kotlin Gradle plugin repository</a>.</p></aside></li><li class="list__item" id="z2i380r_134"><p id="z2i380r_153">Run <span class="control" id="z2i380r_154">Build</span> | <span class="control" id="z2i380r_155">Reload All Gradle Projects</span> in IntelliJ IDEA (or <span class="control" id="z2i380r_156">File</span> | <span class="control" id="z2i380r_157">Sync Project with Gradle Files</span> in Android Studio) to re-import the project.</p></li><li class="list__item" id="z2i380r_135"><p id="z2i380r_158">Generate the <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html" id="z2i380r_159" data-external="true" rel="noopener noreferrer">Gradle wrapper</a> to avoid compatibility issues during an Xcode build.</p></li></ol><p id="z2i380r_129">When applied, the CocoaPods plugin does the following:</p><ul class="list _bullet" id="z2i380r_130"><li class="list__item" id="z2i380r_160"><p>Adds both <code class="code" id="z2i380r_162">debug</code> and <code class="code" id="z2i380r_163">release</code> frameworks as output binaries for all macOS, iOS, tvOS, and watchOS targets.</p></li><li class="list__item" id="z2i380r_161"><p>Creates a <code class="code" id="z2i380r_164">podspec</code> task which generates a <a href="https://guides.cocoapods.org/syntax/podspec.html" id="z2i380r_165" data-external="true" rel="noopener noreferrer">Podspec</a> file for the project.</p></li></ul><p id="z2i380r_131">The <code class="code" id="z2i380r_166">Podspec</code> file includes a path to an output framework and script phases that automate building this framework during the build process of an Xcode project.</p></section><section class="chapter"><h2 id="update-podfile-for-xcode" data-toc="update-podfile-for-xcode">Update Podfile for Xcode</h2><p id="z2i380r_167">If you want to import your Kotlin project to an Xcode project:</p><ol class="list _decimal" id="z2i380r_168" type="1"><li class="list__item" id="z2i380r_170"><p id="z2i380r_174">In the iOS part of your Kotlin project, make changes to the Podfile:</p><ul class="list _bullet" id="z2i380r_175"><li class="list__item" id="z2i380r_176"><p id="z2i380r_178">If your project has any Git, HTTP, or custom Podspec repository dependencies, specify the path to the Podspec in the Podfile.</p><p id="z2i380r_179">For example, if you add a dependency on <code class="code" id="z2i380r_182">podspecWithFilesExample</code>, declare the path to the Podspec in the Podfile:</p><div class="code-block" data-lang="ruby">
target 'ios-app' do
   # ... other dependencies ...
   pod 'podspecWithFilesExample', :path =&gt; 'cocoapods/externalSources/url/podspecWithFilesExample' 
end
</div><p id="z2i380r_181">The <code class="code" id="z2i380r_183">:path</code> should contain the filepath to the Pod.</p></li><li class="list__item" id="z2i380r_177"><p id="z2i380r_184">If you add a library from the custom Podspec repository, specify the <a href="https://guides.cocoapods.org/syntax/podfile.html#source" id="z2i380r_186" data-external="true" rel="noopener noreferrer">location</a> of specs at the beginning of your Podfile:</p><div class="code-block" data-lang="ruby">
source 'https://github.com/Kotlin/kotlin-cocoapods-spec.git'

target 'kotlin-cocoapods-xcproj' do
    # ... other dependencies ...
    pod 'example'
end
</div></li></ul></li><li class="list__item" id="z2i380r_171"><p id="z2i380r_187">Run <code class="code" id="z2i380r_189">pod install</code> in your project directory.</p><p id="z2i380r_188">When you run <code class="code" id="z2i380r_190">pod install</code> for the first time, it creates the <code class="code" id="z2i380r_191">.xcworkspace</code> file. This file includes your original <code class="code" id="z2i380r_192">.xcodeproj</code> and the CocoaPods project.</p></li><li class="list__item" id="z2i380r_172"><p id="z2i380r_193">Close your <code class="code" id="z2i380r_194">.xcodeproj</code> and open the new <code class="code" id="z2i380r_195">.xcworkspace</code> file instead. This way you avoid issues with project dependencies.</p></li><li class="list__item" id="z2i380r_173"><p id="z2i380r_196">Run <span class="control" id="z2i380r_197">Build</span> | <span class="control" id="z2i380r_198">Reload All Gradle Projects</span> in IntelliJ IDEA (or <span class="control" id="z2i380r_199">File</span> | <span class="control" id="z2i380r_200">Sync Project with Gradle Files</span> in Android Studio) to re-import the project.</p></li></ol><p id="z2i380r_169">If you don't make these changes in the Podfile, the <code class="code" id="z2i380r_201">podInstall</code> task will fail, and the CocoaPods plugin will show an error message in the log.</p></section><section class="chapter"><h2 id="possible-issues-and-solutions" data-toc="possible-issues-and-solutions">Possible issues and solutions</h2><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="cocoapods-installation" data-toc="cocoapods-installation">CocoaPods installation</h3></div><div class="collapse__content"><section class="chapter"><h4 id="ruby-installation" data-toc="ruby-installation">Ruby installation</h4><p id="z2i380r_208">CocoaPods is built with Ruby, and you can install it with the default Ruby that should be available on macOS. Ruby 1.9 or later has a built-in RubyGems package management framework that helps you install the <a href="https://guides.cocoapods.org/using/getting-started.html#installation" id="z2i380r_210" data-external="true" rel="noopener noreferrer">CocoaPods dependency manager</a>.</p><p id="z2i380r_209">If you're experiencing problems installing CocoaPods and getting it to work, follow <a href="https://www.ruby-lang.org/en/documentation/installation/" id="z2i380r_211" data-external="true" rel="noopener noreferrer">this guide</a> to install Ruby or refer to the <a href="https://rubygems.org/pages/download/" id="z2i380r_212" data-external="true" rel="noopener noreferrer">RubyGems website</a> to install the framework.</p></section><section class="chapter"><h4 id="version-compatibility" data-toc="version-compatibility">Version compatibility</h4><p id="z2i380r_213">We recommend using the latest Kotlin version. If your current version is earlier than 1.7.0, you'll need to additionally install the <a href="https://github.com/square/cocoapods-generate#installation&quot;" id="z2i380r_215" data-external="true" rel="noopener noreferrer"><code class="code" id="z2i380r_216">cocoapods-generate</code></a> plugin.</p><p id="z2i380r_214">However, <code class="code" id="z2i380r_217">cocoapods-generate</code> is not compatible with Ruby 3.0.0 or later. In this case, downgrade Ruby or upgrade Kotlin to 1.7.0 or later.</p></section></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="build-errors-when-using-xcode" data-toc="build-errors-when-using-xcode">Build errors when using Xcode</h3></div><div class="collapse__content"><p id="z2i380r_218">Some variations of the CocoaPods installation can lead to build errors in Xcode. Generally, the Kotlin Gradle plugin discovers the <code class="code" id="z2i380r_221">pod</code> executable in <code class="code" id="z2i380r_222">PATH</code>, but this may be inconsistent depending on your environment.</p><p id="z2i380r_219">To set the CocoaPods installation path explicitly, you can add it to the <code class="code" id="z2i380r_223">local.properties</code> file of your project manually or using a shell command:</p><ul class="list _bullet" id="z2i380r_220"><li class="list__item" id="z2i380r_224"><p id="z2i380r_226">If using a code editor, add the following line to the <code class="code" id="z2i380r_228">local.properties</code> file:</p><div class="code-block" data-lang="plaintext">
kotlin.apple.cocoapods.bin=/Users/Jane.Doe/.rbenv/shims/pod
</div></li><li class="list__item" id="z2i380r_225"><p id="z2i380r_229">If using a terminal, run the following command:</p><div class="code-block" data-lang="bash">
echo -e &quot;kotlin.apple.cocoapods.bin=$(which pod)&quot; &gt;&gt; local.properties
</div></li></ul></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="module-or-framework-not-found" data-toc="module-or-framework-not-found">Module or framework not found</h3></div><div class="collapse__content"><p id="z2i380r_231">When installing Pods, you may encounter <code class="code" id="z2i380r_235">module 'SomeSDK' not found</code> or <code class="code" id="z2i380r_236">framework 'SomeFramework' not found</code> errors related to <a href="https://kotlinlang.org/docs/native-c-interop.html" id="z2i380r_237" data-external="true" rel="noopener noreferrer">C interop</a> issues. To resolve such errors, try these solutions:</p><section class="chapter"><h4 id="update-packages" data-toc="update-packages">Update packages</h4><p id="z2i380r_238">Update your installation tool and the installed packages (gems):</p><div class="tabs" id="z2i380r_239" data-anchors="[z2i380r_240,z2i380r_241,z2i380r_242]"><div class="tabs__content" data-gtm="tab" id="z2i380r_240" data-title="RVM"><ol class="list _decimal" id="z2i380r_243" type="1"><li class="list__item" id="z2i380r_244"><p id="z2i380r_247">Update RVM:</p><div class="code-block" data-lang="bash">
rvm get stable
</div></li><li class="list__item" id="z2i380r_245"><p id="z2i380r_249">Update Ruby's package manager, RubyGems:</p><div class="code-block" data-lang="bash">
gem update --system
</div></li><li class="list__item" id="z2i380r_246"><p id="z2i380r_251">Upgrade all installed gems to their latest versions:</p><div class="code-block" data-lang="bash">
gem update
</div></li></ol></div><div class="tabs__content" data-gtm="tab" id="z2i380r_241" data-title="Rbenv"><ol class="list _decimal" id="z2i380r_253" type="1"><li class="list__item" id="z2i380r_254"><p id="z2i380r_257">Update Rbenv:</p><div class="code-block" data-lang="bash">
cd ~/.rbenv
git pull
</div></li><li class="list__item" id="z2i380r_255"><p id="z2i380r_259">Update Ruby's package manager, RubyGems:</p><div class="code-block" data-lang="bash">
gem update --system
</div></li><li class="list__item" id="z2i380r_256"><p id="z2i380r_261">Upgrade all the installed gems to their latest versions:</p><div class="code-block" data-lang="bash">
gem update
</div></li></ol></div><div class="tabs__content" data-gtm="tab" id="z2i380r_242" data-title="Homebrew"><ol class="list _decimal" id="z2i380r_263" type="1"><li class="list__item" id="z2i380r_264"><p id="z2i380r_266">Update the Homebrew package manager:</p><div class="code-block" data-lang="bash">
brew update
</div></li><li class="list__item" id="z2i380r_265"><p id="z2i380r_268">Upgrade all the installed packages to their latest versions:</p><div class="code-block" data-lang="bash">
brew upgrade
</div></li></ol></div></div></section><section class="chapter"><h4 id="specify-the-framework-name" data-toc="specify-the-framework-name">Specify the framework name</h4><ol class="list _decimal" id="z2i380r_270" type="1"><li class="list__item" id="z2i380r_271"><p id="z2i380r_273">Look through the downloaded Pod directory <code class="code" id="z2i380r_274">[shared_module_name]/build/cocoapods/synthetic/IOS/Pods/...</code> for the <code class="code" id="z2i380r_275">module.modulemap</code> file.</p></li><li class="list__item" id="z2i380r_272"><p id="z2i380r_276">Check the framework name inside the module, for example <code class="code" id="z2i380r_278">SDWebImageMapKit {}</code>. If the framework name doesn't match the Pod name, specify it explicitly:</p><div class="code-block" data-lang="kotlin">
pod(&quot;SDWebImage/MapKit&quot;) {
    moduleName = &quot;SDWebImageMapKit&quot;
}
</div></li></ol></section><section class="chapter"><h4 id="specify-headers" data-toc="specify-headers">Specify headers</h4><p id="z2i380r_279">If the Pod doesn't contain a <code class="code" id="z2i380r_282">.modulemap</code> file, like the <code class="code" id="z2i380r_283">pod(&quot;NearbyMessages&quot;)</code>, specify the main header explicitly:</p><div class="code-block" data-lang="kotlin">
pod(&quot;NearbyMessages&quot;) {
    version = &quot;1.1.1&quot;
    headers = &quot;GNSMessages.h&quot;
}
</div><p id="z2i380r_281">Check the <a href="https://guides.cocoapods.org/" id="z2i380r_284" data-external="true" rel="noopener noreferrer">CocoaPods documentation</a> for more information. If nothing works, and you still encounter this error, report an issue in <a href="https://youtrack.jetbrains.com/newissue?project=kt" id="z2i380r_285" data-external="true" rel="noopener noreferrer">YouTrack</a>.</p></section></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="rsync-error" data-toc="rsync-error">Rsync error</h3></div><div class="collapse__content"><p id="z2i380r_286">You might encounter the <code class="code" id="z2i380r_289">rsync error: some files could not be transferred</code> error. It's a <a href="https://github.com/CocoaPods/CocoaPods/issues/11946" id="z2i380r_290" data-external="true" rel="noopener noreferrer">known issue</a> that occurs if the application target in Xcode has sandboxing of the user scripts enabled.</p><p id="z2i380r_287">To solve this issue:</p><ol class="list _decimal" id="z2i380r_288" type="1"><li class="list__item" id="z2i380r_291"><p id="z2i380r_293">Disable sandboxing of user scripts in the application target:</p><figure id="z2i380r_294"><img alt="Disable sandboxing CocoaPods" src="https://resources.jetbrains.com/help/img/kotlin-multiplatform-dev/disable-sandboxing-cocoapods.png" title="Disable sandboxing CocoaPods" width="700" height="144"></figure></li><li class="list__item" id="z2i380r_292"><p id="z2i380r_295">Stop the Gradle daemon process that might have been sandboxed:</p><div class="code-block" data-lang="bash">
./gradlew --stop
</div></li></ol></div></div></section></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next</h2><ul class="list _bullet" id="z2i380r_297"><li class="list__item" id="z2i380r_298"><p><a href="multiplatform-cocoapods-libraries.html" id="z2i380r_301">Add dependencies on a Pod library in your Kotlin project</a></p></li><li class="list__item" id="z2i380r_299"><p><a href="multiplatform-cocoapods-xcode.html" id="z2i380r_302">Set up dependencies between a Kotlin project and an Xcode project</a></p></li><li class="list__item" id="z2i380r_300"><p><a href="multiplatform-cocoapods-dsl-reference.html" id="z2i380r_303">See the full CocoaPods Gradle plugin DSL reference</a></p></li></ul></section><div class="last-modified">Last modified: 16 May 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="multiplatform-spm-export.html" class="navigation-links__prev">Swift package export setup</a><a href="multiplatform-cocoapods-libraries.html" class="navigation-links__next">Add dependencies on a Pod library</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.js"></script></body></html>