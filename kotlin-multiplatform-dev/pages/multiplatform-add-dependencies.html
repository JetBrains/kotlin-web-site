<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-06-25T13:01:22.261553731"><meta name="build-number" content="637"><script>
    (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'});
        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&amp;l=' + l : '';
        j.async = true;
        j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
    })(window, document, 'script', 'dataLayer', 'GTM-5P98');
</script>
<script src="https://resources.jetbrains.com/storage/help-app/v6/analytics.js"></script>
<title>Adding dependencies on multiplatform libraries | Kotlin Multiplatform Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"dependency-on-a-kotlin-library","level":0,"title":"Dependency on a Kotlin library","anchor":"#dependency-on-a-kotlin-library"},{"id":"dependency-on-kotlin-multiplatform-libraries","level":0,"title":"Dependency on Kotlin Multiplatform libraries","anchor":"#dependency-on-kotlin-multiplatform-libraries"},{"id":"dependency-on-another-multiplatform-project","level":0,"title":"Dependency on another multiplatform project","anchor":"#dependency-on-another-multiplatform-project"},{"id":"what-s-next","level":0,"title":"What\u0027s next?","anchor":"#what-s-next"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.css" rel="stylesheet"><link rel="manifest" href="https://www.jetbrains.com/site.webmanifest"><link rel="icon" type="image/x-icon" sizes="16x16" href="https://resources.jetbrains.com/storage/ui/favicons/favicon.ico"><link rel="icon" type="image/png" sizes="32x32" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-57x57.png"><link rel="icon" type="image/png" sizes="96x96" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-60x60.png"><link rel="icon" type="image/png" sizes="300x300" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-72x72.png"><link rel="icon" type="image/png" sizes="500x500" href="https://resources.jetbrains.com/storage/ui/favicons/apple-touch-icon-76x76.png"><meta name="image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- Open Graph --><meta property="og:title" content="Adding dependencies on multiplatform libraries | Kotlin Multiplatform"><meta property="og:description" content=""><meta property="og:image" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><meta property="og:site_name" content="Kotlin Multiplatform Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-add-dependencies.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@kotlin"><meta name="twitter:title" content="Adding dependencies on multiplatform libraries | Kotlin Multiplatform"><meta name="twitter:description" content=""><meta name="twitter:creator" content="@kotlin"><meta name="twitter:image:src" content="https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png"><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-add-dependencies.html#webpage",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/multiplatform-add-dependencies.html",
    "name": "Adding dependencies on multiplatform libraries | Kotlin Multiplatform",
    "description": "",
    "image": "https://resources.jetbrains.com/storage/products/jetbrains/img/meta/preview.png",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/#website",
    "url": "https://www.jetbrains.com/help/kotlin-multiplatform-dev/",
    "name": "Kotlin Multiplatform Help"
}</script><!-- End Schema.org --><meta name="msapplication-TileColor" content="#000000"/>
<meta name="msapplication-TileImage"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/>
<meta name="msapplication-square70x70logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/>
<meta name="msapplication-square150x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/>
<meta name="msapplication-wide310x150logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/>
<meta name="msapplication-square310x310logo"
      content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>
<script>document.cookie="wh_theme=light;expires="+(new Date(Date.now()+500000000).toUTCString())+"; path=/;";</script>
<style>
<!--slack icon-->
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]{position:relative;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"] svg{visibility:hidden;}
[data-test="footer-socials"] [data-test="button"][title*="Kotlin Multiplatform Development Feed"]::before{
display:block;content:"";position:absolute;top:0;bottom:0;left:0;right:0;
background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23fff"><path d="M9.586 6.601h1.9v-1.9a1.837 1.837 0 00-1.9-1.9 1.9 1.9 0 000 3.8zm1.9 7.6v4.7a1.837 1.837 0 01-1.9 1.9 1.9 1.9 0 01-1.9-1.9v-4.7a1.899 1.899 0 011.9-1.9 1.837 1.837 0 011.9 1.9zm-5.864 1.773a1.839 1.839 0 01-.737.127 1.9 1.9 0 010-3.8h1.9v1.9a1.839 1.839 0 01-1.163 1.773zm3.963-4.673h-4.7a1.9 1.9 0 010-3.8h4.7a1.838 1.838 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9zm11.4-1.9a1.967 1.967 0 00-1.9-1.9 1.899 1.899 0 00-1.9 1.9v1.9h1.9a1.9 1.9 0 001.9-1.9zm-5.862 1.773a1.839 1.839 0 01-.738.127 1.9 1.9 0 01-1.9-1.9v-4.7a1.839 1.839 0 011.9-1.9 1.898 1.898 0 011.9 1.9v4.7a1.837 1.837 0 01-1.162 1.773zm-.738 9.628a1.839 1.839 0 001.9-1.9 1.9 1.9 0 00-1.9-1.9h-1.9v1.9a1.899 1.899 0 001.9 1.9zm4.7-4.7h-4.7a1.9 1.9 0 110-3.8h4.7a1.836 1.836 0 011.9 1.9 1.9 1.9 0 01-1.9 1.9z"/></svg>') no-repeat center;background-size:20px 20px;}
[data-test="footer-socials"]+.jb-footer__legal{flex-basis:100%;margin-top:8px;}

<!--Drop any switches and set default theme-->
.wh-header__switchers{display:none!important}
</style></head><body data-id="multiplatform-add-dependencies" data-main-title="Adding dependencies on multiplatform libraries" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Add dependencies" data-edit-url="https://github.com/JetBrains/kotlin-multiplatform-dev-docs/edit/master/topics/development/multiplatform-add-dependencies.md"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Kotlin Multiplatform  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="multiplatform-add-dependencies" id="multiplatform-add-dependencies.md">Adding dependencies on multiplatform libraries</h1><p id="kwos6t_2">Every program requires a set of libraries to operate successfully. A Kotlin Multiplatform project can depend on multiplatform libraries that work for all target platforms, platform-specific libraries, and other multiplatform projects.</p><p id="kwos6t_3">To add a dependency on a library, update your <code class="code" id="kwos6t_10">build.gradle(.kts)</code> file in the directory of your project containing shared code. Set a dependency of the required <a href="https://kotlinlang.org/docs/gradle-configure-project.html#dependency-types" id="kwos6t_11" data-external="true" rel="noopener noreferrer">type</a> (for example, <code class="code" id="kwos6t_12">implementation</code>) in the <a href="multiplatform-dsl-reference.html#dependencies" id="kwos6t_13"><code class="code" id="kwos6t_14">dependencies {}</code></a> block:</p><div class="tabs" id="kwos6t_4" data-group="build-script" data-anchors="[kwos6t_15,kwos6t_16]"><div class="tabs__content" data-gtm="tab" id="kwos6t_15" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        commonMain.dependencies {
            implementation(&quot;com.example:my-library:1.0&quot;) // library shared for all source sets
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_16" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonMain {
            dependencies {
                implementation 'com.example:my-library:1.0'
            }
        }
    }
}
</div></div></div><p id="kwos6t_5">Alternatively, you can <a href="https://kotlinlang.org/docs/gradle-configure-project.html#set-dependencies-at-top-level" id="kwos6t_19" data-external="true" rel="noopener noreferrer">set dependencies at the top level</a>.</p><section class="chapter"><h2 id="dependency-on-a-kotlin-library" data-toc="dependency-on-a-kotlin-library">Dependency on a Kotlin library</h2><section class="chapter"><h3 id="standard-library" data-toc="standard-library">Standard library</h3><p id="kwos6t_23">A dependency on a standard library (<code class="code" id="kwos6t_26">stdlib</code>) in each source set is added automatically. The version of the standard library is the same as the version of the <code class="code" id="kwos6t_27">kotlin-multiplatform</code> plugin.</p><p id="kwos6t_24">For platform-specific source sets, the corresponding platform-specific variant of the library is used, while a common standard library is added to the rest. The Kotlin Gradle plugin will select the appropriate JVM standard library depending on the <code class="code" id="kwos6t_28">compilerOptions.jvmTarget</code> <a href="https://kotlinlang.org/docs/gradle-compiler-options.html" id="kwos6t_29" data-external="true" rel="noopener noreferrer">compiler option</a> of your Gradle build script.</p><p id="kwos6t_25">Learn how to <a href="https://kotlinlang.org/docs/gradle-configure-project.html#dependency-on-the-standard-library" id="kwos6t_30" data-external="true" rel="noopener noreferrer">change the default behavior</a>.</p></section><section class="chapter"><h3 id="test-libraries" data-toc="test-libraries">Test libraries</h3><p id="kwos6t_31">For multiplatform tests, the <a href="https://kotlinlang.org/api/latest/kotlin.test/" id="kwos6t_33" data-external="true" rel="noopener noreferrer"><code class="code" id="kwos6t_35">kotlin.test</code></a> API is available. When you create a multiplatform project, you can add test dependencies to all the source sets by using a single dependency in <code class="code" id="kwos6t_34">commonTest</code>:</p><div class="tabs" id="kwos6t_32" data-group="build-script" data-anchors="[kwos6t_36,kwos6t_37]"><div class="tabs__content" data-gtm="tab" id="kwos6t_36" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        commonTest.dependencies {
            implementation(kotlin(&quot;test&quot;)) // Brings all the platform dependencies automatically
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_37" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonTest {
            dependencies {
                implementation kotlin(&quot;test&quot;) // Brings all the platform dependencies automatically
            }
        }
    }
}
</div></div></div></section><section class="chapter"><h3 id="kotlinx-libraries" data-toc="kotlinx-libraries">kotlinx libraries</h3><p id="kwos6t_40">If you use a multiplatform library and need to <a href="#library-shared-for-all-source-sets" id="kwos6t_44">depend on the shared code</a>, set the dependency only once in the shared source set. Use the library base artifact name, such as <code class="code" id="kwos6t_45">kotlinx-coroutines-core</code>:</p><div class="tabs" id="kwos6t_41" data-group="build-script" data-anchors="[kwos6t_46,kwos6t_47]"><div class="tabs__content" data-gtm="tab" id="kwos6t_46" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        commonMain.dependencies {
            implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2&quot;)
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_47" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonMain {
            dependencies {
                implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2'
            }
        }
    }
}
</div></div></div><p id="kwos6t_42">If you need a kotlinx library for a <a href="#library-used-in-specific-source-sets" id="kwos6t_50">platform-specific dependency</a>, you can still use library's base artifact name in the corresponding platform source set:</p><div class="tabs" id="kwos6t_43" data-group="build-script" data-anchors="[kwos6t_51,kwos6t_52]"><div class="tabs__content" data-gtm="tab" id="kwos6t_51" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        jvmMain.dependencies {
            implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2&quot;)
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_52" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        jvmMain {
            dependencies {
                implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2'
            }
        }
    }
}
</div></div></div></section></section><section class="chapter"><h2 id="dependency-on-kotlin-multiplatform-libraries" data-toc="dependency-on-kotlin-multiplatform-libraries">Dependency on Kotlin Multiplatform libraries</h2><p id="kwos6t_55">You can add dependencies on libraries that have adopted Kotlin Multiplatform technology, such as <a href="https://github.com/cashapp/sqldelight" id="kwos6t_59" data-external="true" rel="noopener noreferrer">SQLDelight</a>. The authors of these libraries usually provide guides for adding their dependencies to your project.</p><aside class="prompt" data-type="tip" data-title="" id="kwos6t_56"><p id="kwos6t_60">Look for Kotlin Multiplatform libraries on the <a href="https://klibs.io/" id="kwos6t_61" data-external="true" rel="noopener noreferrer">JetBrains' search platform</a>.</p></aside><section class="chapter"><h3 id="library-shared-for-all-source-sets" data-toc="library-shared-for-all-source-sets">Library shared for all source sets</h3><p id="kwos6t_62">If you want to use a library from all source sets, you can add it only to the common source set. The Kotlin Multiplatform Mobile plugin will automatically add the corresponding parts to any other source sets.</p><aside class="prompt" data-type="warning" data-title="" id="kwos6t_63"><p id="kwos6t_65">You cannot set dependencies on platform-specific libraries in the common source set.</p></aside><div class="tabs" id="kwos6t_64" data-group="build-script" data-anchors="[kwos6t_66,kwos6t_67]"><div class="tabs__content" data-gtm="tab" id="kwos6t_66" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        commonMain.dependencies {
            implementation(&quot;io.ktor:ktor-client-core:3.2.0&quot;)
        }
        androidMain.dependencies {
            // dependency to a platform part of ktor-client will be added automatically
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_67" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonMain {
            dependencies {
                implementation 'io.ktor:ktor-client-core:3.2.0'
            }
        }
        androidMain {
            dependencies {
                // dependency to platform part of ktor-client will be added automatically
            }
        }
    }
}
</div></div></div></section><section class="chapter"><h3 id="library-used-in-specific-source-sets" data-toc="library-used-in-specific-source-sets">Library used in specific source sets</h3><p id="kwos6t_70">If you want to use a multiplatform library just for specific source sets, you can add it exclusively to them. The specified library declarations will then be available only in those source sets.</p><aside class="prompt" data-type="note" data-title="" id="kwos6t_71"><p id="kwos6t_73">Use a common library name in such cases, not a platform-specific one. Like with SQLDelight in the example below, use <code class="code" id="kwos6t_74">native-driver</code>, not <code class="code" id="kwos6t_75">native-driver-iosx64</code>. Find the exact name in the library's documentation.</p></aside><div class="tabs" id="kwos6t_72" data-group="build-script" data-anchors="[kwos6t_76,kwos6t_77]"><div class="tabs__content" data-gtm="tab" id="kwos6t_76" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        commonMain.dependencies {
            // kotlinx.coroutines will be available in all source sets
            implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2&quot;)
        }
        androidMain.dependencies {

        }
        iosMain.dependencies {
            // SQLDelight will be available only in the iOS source set, but not in Android or common
            implementation(&quot;com.squareup.sqldelight:native-driver:2.1.0&quot;)
        }
        wasmJsMain.dependencies {
            
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_77" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonMain {
            dependencies {
                // kotlinx.coroutines will be available in all source sets
                implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.10.2'
            }
        }
        androidMain {
            dependencies {}
        }
        iosMain {
            dependencies {
                // SQLDelight will be available only in the iOS source set, but not in Android or common
                implementation 'com.squareup.sqldelight:native-driver:2.1.0'
            }
        }
        wasmJsMain {
            dependencies {}
        }
    }
}
</div></div></div></section></section><section class="chapter"><h2 id="dependency-on-another-multiplatform-project" data-toc="dependency-on-another-multiplatform-project">Dependency on another multiplatform project</h2><p id="kwos6t_80">You can connect one multiplatform project to another as a dependency. To do this, simply add a project dependency to the source set that needs it. If you want to use a dependency in all source sets, add it to the common one. In this case, other source sets will get their versions automatically.</p><div class="tabs" id="kwos6t_81" data-group="build-script" data-anchors="[kwos6t_82,kwos6t_83]"><div class="tabs__content" data-gtm="tab" id="kwos6t_82" data-sync-tabs="kotlin" data-title="Kotlin"><div class="code-block" data-lang="kotlin" data-title="Kotlin">
kotlin {
    sourceSets {
        commonMain.dependencies {
            implementation(project(&quot;:some-other-multiplatform-module&quot;))
        }
        androidMain.dependencies {
            // platform part of :some-other-multiplatform-module will be added automatically
        }
    }
}
</div></div><div class="tabs__content" data-gtm="tab" id="kwos6t_83" data-sync-tabs="groovy" data-title="Groovy"><div class="code-block" data-lang="groovy" data-title="Groovy">
kotlin {
    sourceSets {
        commonMain {
            dependencies {
                implementation project(':some-other-multiplatform-module')
            }
        }
        androidMain {
            dependencies {
                // platform part of :some-other-multiplatform-module will be added automatically
            }
        }
    }
}
</div></div></div></section><section class="chapter"><h2 id="what-s-next" data-toc="what-s-next">What's next?</h2><p id="kwos6t_86">Check out other resources on adding dependencies in multiplatform projects and learn more about:</p><ul class="list _bullet" id="kwos6t_87"><li class="list__item" id="kwos6t_88"><p><a href="multiplatform-android-dependencies.html" id="kwos6t_91">Adding Android dependencies</a></p></li><li class="list__item" id="kwos6t_89"><p><a href="multiplatform-ios-dependencies.html" id="kwos6t_92">Adding iOS dependencies</a></p></li><li class="list__item" id="kwos6t_90"><p><a href="compose-multiplatform-modify-project.html#add-a-new-dependency" id="kwos6t_93">Adding dependencies in a Compose Multiplatform project targeting iOS, Android, desktop, and web</a></p></li></ul></section><div class="last-modified">Last modified: 16 May 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="multiplatform-hierarchy.html" class="navigation-links__prev">Hierarchical project structure</a><a href="multiplatform-android-dependencies.html" class="navigation-links__next">Adding Android dependencies</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b454/app.js"></script></body></html>